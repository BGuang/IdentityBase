{"Timestamp":"2018-05-01T17:13:58.7785116+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T17:14:00.5086775+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.Exception: IClientStore not registered.\r\n   at IdentityBase.StartupDataLayer.ValidateDataLayerServices(IServiceCollection services, ILogger logger) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Shared\\Startup\\StartupDataLayer.cs:line 24\r\n   at IdentityBase.Startup.ConfigureServices(IServiceCollection services) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 140\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.EnsureApplicationServices()\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T17:45:49.4695028+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T17:45:49.9569343+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T17:45:49.9806099+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T17:45:54.3006327+02:00","Level":"Error","MessageTemplate":"Executing ConfigureServices action '{0}' caused an error.","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at IdentityBase.EntityFramework.MySql.ConfigureServicesAction.<>c__DisplayClass0_0.<Execute>b__0(EntityFrameworkOptions options) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\IdentityBase.EntityFramework.MySql\\ConfigureServicesAction.cs:line 29\r\n   at IdentityBase.EntityFramework.IServiceCollectionExtensions.AddEntityFrameworkStores(IServiceCollection services, Action`1 configure) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.EntityFramework\\Extensions\\IServiceCollectionExtensions.cs:line 23\r\n   at IdentityBase.EntityFramework.MySql.ConfigureServicesAction.Execute(IServiceCollection serviceCollection) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\IdentityBase.EntityFramework.MySql\\ConfigureServicesAction.cs:line 15\r\n   at ServiceBase.Mvc.Plugins.IServiceCollectionExtensions.AddPlugins(IServiceCollection serviceCollection) in C:\\Private\\Projects\\eConduct\\Altogether\\ServiceBase\\src\\ServiceBase.Mvc\\Plugins\\IServiceCollectionExtensions.cs:line 35","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T17:45:55.0258011+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.Exception: IClientStore not registered.\r\n   at IdentityBase.StartupDataLayer.ValidateDataLayerServices(IServiceCollection services, ILogger logger) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Shared\\Startup\\StartupDataLayer.cs:line 24\r\n   at IdentityBase.Startup.ConfigureServices(IServiceCollection services) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 141\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.EnsureApplicationServices()\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T19:21:23.0813247+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T19:21:23.7185186+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T19:21:23.7446338+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T19:21:23.7933446+02:00","Level":"Error","MessageTemplate":"Executing ConfigureServices action '{0}' caused an error.","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at IdentityBase.EntityFramework.MySql.ConfigureServicesAction.<>c__DisplayClass0_0.<Execute>b__0(EntityFrameworkOptions options) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\IdentityBase.EntityFramework.MySql\\ConfigureServicesAction.cs:line 29\r\n   at IdentityBase.EntityFramework.IServiceCollectionExtensions.AddEntityFrameworkStores(IServiceCollection services, Action`1 configure) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.EntityFramework\\Extensions\\IServiceCollectionExtensions.cs:line 23\r\n   at IdentityBase.EntityFramework.MySql.ConfigureServicesAction.Execute(IServiceCollection serviceCollection) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\IdentityBase.EntityFramework.MySql\\ConfigureServicesAction.cs:line 15\r\n   at ServiceBase.Mvc.Plugins.IServiceCollectionExtensions.AddPlugins(IServiceCollection serviceCollection) in C:\\Private\\Projects\\eConduct\\Altogether\\ServiceBase\\src\\ServiceBase.Mvc\\Plugins\\IServiceCollectionExtensions.cs:line 35","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T19:21:24.5518313+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.Exception: IClientStore not registered.\r\n   at IdentityBase.StartupDataLayer.ValidateDataLayerServices(IServiceCollection services, ILogger logger) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Shared\\Startup\\StartupDataLayer.cs:line 24\r\n   at IdentityBase.Startup.ConfigureServices(IServiceCollection services) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 141\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.EnsureApplicationServices()\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T23:12:06.5668910+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:12:07.1666912+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:12:07.1912420+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:12:07.2235324+02:00","Level":"Error","MessageTemplate":"Executing ConfigureServices action '{0}' caused an error.","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at IdentityBase.EntityFramework.MySql.ConfigureServicesAction.<>c__DisplayClass0_0.<Execute>b__0(EntityFrameworkOptions options) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\IdentityBase.EntityFramework.MySql\\ConfigureServicesAction.cs:line 29\r\n   at IdentityBase.EntityFramework.IServiceCollectionExtensions.AddEntityFrameworkStores(IServiceCollection services, Action`1 configure) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.EntityFramework\\Extensions\\IServiceCollectionExtensions.cs:line 23\r\n   at IdentityBase.EntityFramework.MySql.ConfigureServicesAction.Execute(IServiceCollection serviceCollection) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\IdentityBase.EntityFramework.MySql\\ConfigureServicesAction.cs:line 15\r\n   at ServiceBase.Mvc.Plugins.IServiceCollectionExtensions.AddPlugins(IServiceCollection serviceCollection) in C:\\Private\\Projects\\eConduct\\Altogether\\ServiceBase\\src\\ServiceBase.Mvc\\Plugins\\IServiceCollectionExtensions.cs:line 35","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:12:07.8593306+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.Exception: IClientStore not registered.\r\n   at IdentityBase.StartupDataLayer.ValidateDataLayerServices(IServiceCollection services, ILogger logger) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Shared\\Startup\\StartupDataLayer.cs:line 24\r\n   at IdentityBase.Startup.ConfigureServices(IServiceCollection services) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 141\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.EnsureApplicationServices()\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T23:14:19.7293430+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:14:20.2777633+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:14:20.3000535+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:14:31.1383594+02:00","Level":"Error","MessageTemplate":"Executing ConfigureServices action '{0}' caused an error.","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at IdentityBase.EntityFramework.MySql.ConfigureServicesAction.<>c__DisplayClass0_0.<Execute>b__0(EntityFrameworkOptions options) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\IdentityBase.EntityFramework.MySql\\ConfigureServicesAction.cs:line 29\r\n   at IdentityBase.EntityFramework.IServiceCollectionExtensions.AddEntityFrameworkStores(IServiceCollection services, Action`1 configure) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.EntityFramework\\Extensions\\IServiceCollectionExtensions.cs:line 23\r\n   at IdentityBase.EntityFramework.MySql.ConfigureServicesAction.Execute(IServiceCollection serviceCollection) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\IdentityBase.EntityFramework.MySql\\ConfigureServicesAction.cs:line 15\r\n   at ServiceBase.Mvc.Plugins.IServiceCollectionExtensions.AddPlugins(IServiceCollection serviceCollection) in C:\\Private\\Projects\\eConduct\\Altogether\\ServiceBase\\src\\ServiceBase.Mvc\\Plugins\\IServiceCollectionExtensions.cs:line 35","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:14:41.2288787+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.Exception: IClientStore not registered.\r\n   at IdentityBase.StartupDataLayer.ValidateDataLayerServices(IServiceCollection services, ILogger logger) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Shared\\Startup\\StartupDataLayer.cs:line 24\r\n   at IdentityBase.Startup.ConfigureServices(IServiceCollection services) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 141\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.EnsureApplicationServices()\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T23:14:50.9703336+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:14:51.6577462+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:14:51.6822946+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:15:46.1423653+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:15:46.8431303+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:15:46.8692593+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:16:01.5032794+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.Exception: IEmailService not registered.\r\n   at IdentityBase.StartupEmailSender.ValidateEmailSenderServices(IServiceCollection services, ILogger logger) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Shared\\Startup\\StartupEmailSender.cs:line 21\r\n   at IdentityBase.Startup.ConfigureServices(IServiceCollection services) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 142\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.EnsureApplicationServices()\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T23:20:15.0098018+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:20:15.5850664+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:20:15.6057020+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:20:20.4808011+02:00","Level":"Information","MessageTemplate":"Services configured.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:20:20.5286696+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nk.ruak361\\AppData\\Local\\ASP.NET\\DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2018-05-01T23:20:20.6248195+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:20:27.0701938+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.ArgumentNullException: Value cannot be null.\r\nParameter name: connectionString\r\n   at Microsoft.EntityFrameworkCore.Utilities.Check.NotEmpty(String value, String parameterName)\r\n   at Microsoft.EntityFrameworkCore.MySqlDbContextOptionsExtensions.UseMySql(DbContextOptionsBuilder optionsBuilder, String connectionString, Action`1 mySqlOptionsAction)\r\n   at IdentityBase.EntityFramework.MySql.ConfigureServicesAction.<>c__DisplayClass0_1.<Execute>b__1(DbContextOptionsBuilder dbBuilder) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\IdentityBase.EntityFramework.MySql\\ConfigureServicesAction.cs:line 28\r\n   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass0_0`1.<AddDbContext>b__0(IServiceProvider p, DbContextOptionsBuilder b)\r\n   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.DbContextOptionsFactory[TContext](IServiceProvider applicationServiceProvider, Action`2 optionsAction)\r\n   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass5_0`1.<AddCoreServices>b__0(IServiceProvider p)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.<>c__DisplayClass22_0.<RealizeService>b__0(ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\r\n   at Microsoft.AspNetCore.Builder.IdentityServerApplicationBuilderExtensions.TestService(IServiceProvider serviceProvider, Type service, ILogger logger, String message, Boolean doThrow) in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Configuration\\IdentityServerApplicationBuilderExtensions.cs:line 117\r\n   at Microsoft.AspNetCore.Builder.IdentityServerApplicationBuilderExtensions.Validate(IApplicationBuilder app) in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Configuration\\IdentityServerApplicationBuilderExtensions.cs:line 58\r\n   at Microsoft.AspNetCore.Builder.IdentityServerApplicationBuilderExtensions.UseIdentityServer(IApplicationBuilder app) in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Configuration\\IdentityServerApplicationBuilderExtensions.cs:line 29\r\n   at IdentityBase.Startup.Configure(IApplicationBuilder app) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 203\r\n   at Microsoft.AspNetCore.ApplicationInsights.HostingStartup.ApplicationInsightsLoggerStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)\r\n   at Microsoft.ApplicationInsights.AspNetCore.ApplicationInsightsStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)\r\n   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T23:21:39.1919195+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:21:39.8758632+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:21:39.9017093+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.MySql.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:21:40.6356003+02:00","Level":"Information","MessageTemplate":"Services configured.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:21:40.7056187+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nk.ruak361\\AppData\\Local\\ASP.NET\\DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2018-05-01T23:21:40.8146819+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:28:17.0735657+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:28:17.8357817+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:28:17.8710719+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.SqlServer.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:28:18.5742720+02:00","Level":"Information","MessageTemplate":"Services configured.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:28:18.6212951+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nk.ruak361\\AppData\\Local\\ASP.NET\\DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2018-05-01T23:28:18.7178024+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:28:18.8943825+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for authentication","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:28:18.8966276+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-in","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:28:18.8982963+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-out","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:28:18.8996400+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for challenge","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:28:18.9008742+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for forbid","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:28:19.1049158+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.InvalidOperationException: Unable to resolve service for type 'IdentityBase.ThemeHelper' while attempting to activate 'IdentityBase.JsonStringLocalizerFactory'.\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType, ServiceProvider serviceProvider)\r\n   at System.Collections.Concurrent.ConcurrentDictionaryExtensions.GetOrAdd[TKey,TValue,TArg](ConcurrentDictionary`2 dictionary, TKey key, Func`3 valueFactory, TArg arg)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.AspNetCore.Builder.MvcApplicationBuilderExtensions.UseMvc(IApplicationBuilder app, Action`1 configureRoutes)\r\n   at ServiceBase.Mvc.Plugins.ApplicationBuilderExtensions.UsePluginsMvcHost(IApplicationBuilder applicationBuilder, String pluginsPath) in C:\\Private\\Projects\\eConduct\\Altogether\\ServiceBase\\src\\ServiceBase.Mvc\\Plugins\\ApplicationBuilderExtensions.cs:line 30\r\n   at IdentityBase.Startup.Configure(IApplicationBuilder app) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 206\r\n   at Microsoft.AspNetCore.ApplicationInsights.HostingStartup.ApplicationInsightsLoggerStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)\r\n   at Microsoft.ApplicationInsights.AspNetCore.ApplicationInsightsStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)\r\n   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T23:37:20.4793046+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:37:21.3809109+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:37:21.4329393+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.SqlServer.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:37:22.2865001+02:00","Level":"Information","MessageTemplate":"Services configured.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:37:22.3224445+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nk.ruak361\\AppData\\Local\\ASP.NET\\DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2018-05-01T23:37:22.4175312+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:37:22.5801237+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for authentication","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:37:22.5834248+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-in","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:37:22.5842750+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-out","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:37:22.5855131+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for challenge","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:37:22.5869460+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for forbid","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:37:22.7467933+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.InvalidOperationException: Unable to resolve service for type 'IdentityBase.ThemeHelper' while attempting to activate 'IdentityBase.JsonStringLocalizerFactory'.\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType, ServiceProvider serviceProvider)\r\n   at System.Collections.Concurrent.ConcurrentDictionaryExtensions.GetOrAdd[TKey,TValue,TArg](ConcurrentDictionary`2 dictionary, TKey key, Func`3 valueFactory, TArg arg)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.AspNetCore.Builder.MvcApplicationBuilderExtensions.UseMvc(IApplicationBuilder app, Action`1 configureRoutes)\r\n   at ServiceBase.Mvc.Plugins.ApplicationBuilderExtensions.UsePluginsMvcHost(IApplicationBuilder applicationBuilder, String pluginsPath) in C:\\Private\\Projects\\eConduct\\Altogether\\ServiceBase\\src\\ServiceBase.Mvc\\Plugins\\ApplicationBuilderExtensions.cs:line 30\r\n   at IdentityBase.Startup.Configure(IApplicationBuilder app) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 206\r\n   at Microsoft.AspNetCore.ApplicationInsights.HostingStartup.ApplicationInsightsLoggerStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)\r\n   at Microsoft.ApplicationInsights.AspNetCore.ApplicationInsightsStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)\r\n   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T23:39:53.2974461+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:39:53.9513461+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:39:53.9885554+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.SqlServer.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:39:54.7326211+02:00","Level":"Information","MessageTemplate":"Services configured.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:39:54.7821145+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nk.ruak361\\AppData\\Local\\ASP.NET\\DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2018-05-01T23:39:54.8627846+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:39:54.9666445+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for authentication","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:39:54.9700946+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-in","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:39:54.9724246+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-out","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:39:54.9741491+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for challenge","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:39:54.9759640+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for forbid","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:39:55.1117994+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:40:05.6634336+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  "}]}}
{"Timestamp":"2018-05-01T23:40:05.7598172+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/.well-known/openid-configuration","endpoint":"Discovery","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:05.7657033+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Discovery","endpointHandler":"IdentityServer4.Endpoints.DiscoveryEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:05.7669208+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.DiscoveryEndpoint","url":"/.well-known/openid-configuration","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:05.7748094+02:00","Level":"Verbose","MessageTemplate":"Processing discovery request.","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:05.7764557+02:00","Level":"Debug","MessageTemplate":"Start discovery request","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:05.7797232+02:00","Level":"Verbose","MessageTemplate":"Calling into discovery response generator: {type}","Properties":{"type":"IdentityServer4.ResponseHandling.DiscoveryResponseGenerator","SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:05.9986425+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:06.2067075+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [x]\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:06.2707146+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [x.UserClaims]\r\nINNER JOIN (\r\n    SELECT [x0].[Id]\r\n    FROM [IdentityResources] AS [x0]\r\n) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:06.3456299+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]\r\nFROM [ApiResources] AS [x]\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:06.3684174+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]\r\nFROM [ApiSecrets] AS [x.Secrets]\r\nINNER JOIN (\r\n    SELECT [x0].[Id]\r\n    FROM [ApiResources] AS [x0]\r\n) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:06.3872046+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [x.Scopes]\r\nINNER JOIN (\r\n    SELECT [x1].[Id]\r\n    FROM [ApiResources] AS [x1]\r\n) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [x.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:06.4088552+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [x.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [x.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [x2].[Id]\r\n        FROM [ApiResources] AS [x2]\r\n    ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:06.4270640+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]\r\nFROM [ApiClaims] AS [x.UserClaims]\r\nINNER JOIN (\r\n    SELECT [x3].[Id]\r\n    FROM [ApiResources] AS [x3]\r\n) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:06.8016594+02:00","Level":"Debug","MessageTemplate":"Found {scopes} as all scopes in database","Properties":{"scopes":["openid","profile","email","custom.profile","api1","api2.full_access","api2.read_only","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:06.8232911+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.DiscoveryDocumentResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.0001686+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1342.367,"StatusCode":200,"ContentType":"application/json; charset=UTF-8","HostingRequestFinishedLog":"Request finished in 1342.367ms 200 application/json; charset=UTF-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E00:00000001","RequestPath":"/.well-known/openid-configuration"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1342.367ms 200 application/json; charset=UTF-8"}]}}
{"Timestamp":"2018-05-01T23:40:07.2391686+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/.well-known/openid-configuration/jwks","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E00:00000002","RequestPath":"/.well-known/openid-configuration/jwks"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  "}]}}
{"Timestamp":"2018-05-01T23:40:07.2458103+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/.well-known/openid-configuration/jwks","endpoint":"Discovery","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLGD74E00:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.2589856+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Discovery","endpointHandler":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLGD74E00:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.2611549+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","url":"/.well-known/openid-configuration/jwks","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLGD74E00:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.2705716+02:00","Level":"Verbose","MessageTemplate":"Processing discovery request.","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFLGD74E00:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.2741272+02:00","Level":"Debug","MessageTemplate":"Start key discovery request","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFLGD74E00:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.2780462+02:00","Level":"Verbose","MessageTemplate":"Calling into discovery response generator: {type}","Properties":{"type":"IdentityServer4.ResponseHandling.DiscoveryResponseGenerator","SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFLGD74E00:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.2894295+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.JsonWebKeysResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLGD74E00:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.3330329+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":93.8947,"StatusCode":200,"ContentType":"application/json; charset=UTF-8","HostingRequestFinishedLog":"Request finished in 93.8947ms 200 application/json; charset=UTF-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E00:00000002","RequestPath":"/.well-known/openid-configuration/jwks"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 93.8947ms 200 application/json; charset=UTF-8"}]}}
{"Timestamp":"2018-05-01T23:40:07.4059969+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/connect/authorize","QueryString":"?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608076073631343.Yjk5N2JjOGItNWNmMC00M2NmLWI1YTAtNWI3MDcwYzU2NGQ4MTM0MTgzYWMtZWJhZi00OWZjLTg2Y2QtMjcxOTM5ZWE4ZjM4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A-LS2p8Vmo-XsgBoSTVxYuzy31NBnvfg70iiAZQaWtkDIFG9M5dWKU9aX_3_0Reh91NkuF4tnuTrl9wc8FhgJAnbx91nB3oUQZaN5UfuImCc4gwTuoNITPI2hIgrw4-w3z8_eIZAZjA-pvIgW-mmGzy5yNyw7Dq2v7Sqlw32RFGbJkKNVt-ESG_f406oe-wNmwhV4nPi_s7D2ugCHCs_dDdkHUYJATsHDK33geSKZvbxLquF2HJbL-1zi7eAkzrKZlMkQAVXdttxAMAcvFcn8x44KO8kp6uNLG-cKUIcVX7nN691s6DOb-zHdGTkSJASWY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608076073631343.Yjk5N2JjOGItNWNmMC00M2NmLWI1YTAtNWI3MDcwYzU2NGQ4MTM0MTgzYWMtZWJhZi00OWZjLTg2Y2QtMjcxOTM5ZWE4ZjM4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A-LS2p8Vmo-XsgBoSTVxYuzy31NBnvfg70iiAZQaWtkDIFG9M5dWKU9aX_3_0Reh91NkuF4tnuTrl9wc8FhgJAnbx91nB3oUQZaN5UfuImCc4gwTuoNITPI2hIgrw4-w3z8_eIZAZjA-pvIgW-mmGzy5yNyw7Dq2v7Sqlw32RFGbJkKNVt-ESG_f406oe-wNmwhV4nPi_s7D2ugCHCs_dDdkHUYJATsHDK33geSKZvbxLquF2HJbL-1zi7eAkzrKZlMkQAVXdttxAMAcvFcn8x44KO8kp6uNLG-cKUIcVX7nN691s6DOb-zHdGTkSJASWY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608076073631343.Yjk5N2JjOGItNWNmMC00M2NmLWI1YTAtNWI3MDcwYzU2NGQ4MTM0MTgzYWMtZWJhZi00OWZjLTg2Y2QtMjcxOTM5ZWE4ZjM4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A-LS2p8Vmo-XsgBoSTVxYuzy31NBnvfg70iiAZQaWtkDIFG9M5dWKU9aX_3_0Reh91NkuF4tnuTrl9wc8FhgJAnbx91nB3oUQZaN5UfuImCc4gwTuoNITPI2hIgrw4-w3z8_eIZAZjA-pvIgW-mmGzy5yNyw7Dq2v7Sqlw32RFGbJkKNVt-ESG_f406oe-wNmwhV4nPi_s7D2ugCHCs_dDdkHUYJATsHDK33geSKZvbxLquF2HJbL-1zi7eAkzrKZlMkQAVXdttxAMAcvFcn8x44KO8kp6uNLG-cKUIcVX7nN691s6DOb-zHdGTkSJASWY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0  "}]}}
{"Timestamp":"2018-05-01T23:40:07.4126024+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/connect/authorize","endpoint":"Authorize","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.4250579+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Authorize","endpointHandler":"IdentityServer4.Endpoints.AuthorizeEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.4307962+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.AuthorizeEndpoint","url":"/connect/authorize","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.4401105+02:00","Level":"Debug","MessageTemplate":"Start authorize request","Properties":{"SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.4527703+02:00","Level":"Debug","MessageTemplate":"No user present in authorize request","Properties":{"SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.4595294+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.4773673+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.5955034+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"26","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.6736151+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.7006812+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.7189129+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.7366236+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.7581031+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.7759074+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.7869806+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.8020293+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.8173383+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.9303007+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.9414102+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.9444755+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.9816438+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:07.9927190+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.0065284+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.0537999+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.0807384+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"14","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.1078591+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"15","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.1515327+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"32","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.1752870+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"14","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.1861947+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2024886+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2099869+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2213722+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2261828+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2337665+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2412612+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2505001+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2586885+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2728961+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2873274+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.2910576+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.3114965+02:00","Level":"Information","MessageTemplate":"ValidatedAuthorizeRequest\r\n{validationDetails}","Properties":{"validationDetails":"{\r\n  \"ClientId\": \"mvc.hybrid\",\r\n  \"ClientName\": \"MVC Hybrid\",\r\n  \"RedirectUri\": \"http://localhost:21402/signin-oidc\",\r\n  \"AllowedRedirectUris\": [\r\n    \"http://localhost:21402/signin-oidc\"\r\n  ],\r\n  \"SubjectId\": \"anonymous\",\r\n  \"ResponseType\": \"code id_token\",\r\n  \"ResponseMode\": \"form_post\",\r\n  \"GrantType\": \"hybrid\",\r\n  \"RequestedScopes\": \"openid profile email api1 idbase offline_access\",\r\n  \"State\": \"CfDJ8LLsNEIXtepIqkK-qgTs0A-LS2p8Vmo-XsgBoSTVxYuzy31NBnvfg70iiAZQaWtkDIFG9M5dWKU9aX_3_0Reh91NkuF4tnuTrl9wc8FhgJAnbx91nB3oUQZaN5UfuImCc4gwTuoNITPI2hIgrw4-w3z8_eIZAZjA-pvIgW-mmGzy5yNyw7Dq2v7Sqlw32RFGbJkKNVt-ESG_f406oe-wNmwhV4nPi_s7D2ugCHCs_dDdkHUYJATsHDK33geSKZvbxLquF2HJbL-1zi7eAkzrKZlMkQAVXdttxAMAcvFcn8x44KO8kp6uNLG-cKUIcVX7nN691s6DOb-zHdGTkSJASWY\",\r\n  \"Nonce\": \"636608076073631343.Yjk5N2JjOGItNWNmMC00M2NmLWI1YTAtNWI3MDcwYzU2NGQ4MTM0MTgzYWMtZWJhZi00OWZjLTg2Y2QtMjcxOTM5ZWE4ZjM4\",\r\n  \"Raw\": {\r\n    \"client_id\": \"mvc.hybrid\",\r\n    \"redirect_uri\": \"http://localhost:21402/signin-oidc\",\r\n    \"response_type\": \"code id_token\",\r\n    \"scope\": \"openid profile email api1 idbase offline_access\",\r\n    \"response_mode\": \"form_post\",\r\n    \"nonce\": \"636608076073631343.Yjk5N2JjOGItNWNmMC00M2NmLWI1YTAtNWI3MDcwYzU2NGQ4MTM0MTgzYWMtZWJhZi00OWZjLTg2Y2QtMjcxOTM5ZWE4ZjM4\",\r\n    \"culture\": \"en-US\",\r\n    \"state\": \"CfDJ8LLsNEIXtepIqkK-qgTs0A-LS2p8Vmo-XsgBoSTVxYuzy31NBnvfg70iiAZQaWtkDIFG9M5dWKU9aX_3_0Reh91NkuF4tnuTrl9wc8FhgJAnbx91nB3oUQZaN5UfuImCc4gwTuoNITPI2hIgrw4-w3z8_eIZAZjA-pvIgW-mmGzy5yNyw7Dq2v7Sqlw32RFGbJkKNVt-ESG_f406oe-wNmwhV4nPi_s7D2ugCHCs_dDdkHUYJATsHDK33geSKZvbxLquF2HJbL-1zi7eAkzrKZlMkQAVXdttxAMAcvFcn8x44KO8kp6uNLG-cKUIcVX7nN691s6DOb-zHdGTkSJASWY\",\r\n    \"x-client-SKU\": \"ID_NET\",\r\n    \"x-client-ver\": \"2.1.4.0\"\r\n  }\r\n}","SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.3246809+02:00","Level":"Verbose","MessageTemplate":"ProcessInteractionAsync","Properties":{"SourceContext":"IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.3328058+02:00","Level":"Information","MessageTemplate":"Showing login: User is not authenticated","Properties":{"SourceContext":"IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.3367441+02:00","Level":"Verbose","MessageTemplate":"End authorize request. result type: {0}","Properties":{"0":"IdentityServer4.Endpoints.Results.LoginPageResult","SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.3380486+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.LoginPageResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.3445640+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":938.5864,"StatusCode":302,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 938.5864ms 302 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E01:00000001","RequestPath":"/connect/authorize"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 938.5864ms 302 "}]}}
{"Timestamp":"2018-05-01T23:40:08.3525750+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608076073631343.Yjk5N2JjOGItNWNmMC00M2NmLWI1YTAtNWI3MDcwYzU2NGQ4MTM0MTgzYWMtZWJhZi00OWZjLTg2Y2QtMjcxOTM5ZWE4ZjM4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A-LS2p8Vmo-XsgBoSTVxYuzy31NBnvfg70iiAZQaWtkDIFG9M5dWKU9aX_3_0Reh91NkuF4tnuTrl9wc8FhgJAnbx91nB3oUQZaN5UfuImCc4gwTuoNITPI2hIgrw4-w3z8_eIZAZjA-pvIgW-mmGzy5yNyw7Dq2v7Sqlw32RFGbJkKNVt-ESG_f406oe-wNmwhV4nPi_s7D2ugCHCs_dDdkHUYJATsHDK33geSKZvbxLquF2HJbL-1zi7eAkzrKZlMkQAVXdttxAMAcvFcn8x44KO8kp6uNLG-cKUIcVX7nN691s6DOb-zHdGTkSJASWY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608076073631343.Yjk5N2JjOGItNWNmMC00M2NmLWI1YTAtNWI3MDcwYzU2NGQ4MTM0MTgzYWMtZWJhZi00OWZjLTg2Y2QtMjcxOTM5ZWE4ZjM4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A-LS2p8Vmo-XsgBoSTVxYuzy31NBnvfg70iiAZQaWtkDIFG9M5dWKU9aX_3_0Reh91NkuF4tnuTrl9wc8FhgJAnbx91nB3oUQZaN5UfuImCc4gwTuoNITPI2hIgrw4-w3z8_eIZAZjA-pvIgW-mmGzy5yNyw7Dq2v7Sqlw32RFGbJkKNVt-ESG_f406oe-wNmwhV4nPi_s7D2ugCHCs_dDdkHUYJATsHDK33geSKZvbxLquF2HJbL-1zi7eAkzrKZlMkQAVXdttxAMAcvFcn8x44KO8kp6uNLG-cKUIcVX7nN691s6DOb-zHdGTkSJASWY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E01:00000002","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608076073631343.Yjk5N2JjOGItNWNmMC00M2NmLWI1YTAtNWI3MDcwYzU2NGQ4MTM0MTgzYWMtZWJhZi00OWZjLTg2Y2QtMjcxOTM5ZWE4ZjM4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A-LS2p8Vmo-XsgBoSTVxYuzy31NBnvfg70iiAZQaWtkDIFG9M5dWKU9aX_3_0Reh91NkuF4tnuTrl9wc8FhgJAnbx91nB3oUQZaN5UfuImCc4gwTuoNITPI2hIgrw4-w3z8_eIZAZjA-pvIgW-mmGzy5yNyw7Dq2v7Sqlw32RFGbJkKNVt-ESG_f406oe-wNmwhV4nPi_s7D2ugCHCs_dDdkHUYJATsHDK33geSKZvbxLquF2HJbL-1zi7eAkzrKZlMkQAVXdttxAMAcvFcn8x44KO8kp6uNLG-cKUIcVX7nN691s6DOb-zHdGTkSJASWY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-01T23:40:08.3573403+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLGD74E01:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.6413915+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":154.20610000000002,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"2a5e92a5-377d-492a-b0f8-cdcb4010a4cf","RequestId":"0HLDFLGD74E01:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.7863299+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request","Exception":"System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Localization.IStringLocalizer' while attempting to activate 'IdentityBase.Actions.Login.LoginController'.\r\n   at Microsoft.Extensions.Internal.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)\r\n   at lambda_method(Closure , IServiceProvider , Object[] )\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\IdentityServerMiddleware.cs:line 72\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\BaseUrlMiddleware.cs:line 43\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()","Properties":{"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HLDFLGD74E01:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:08.9567893+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":604.1766,"StatusCode":500,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 604.1766ms 500 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E01:00000002","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 604.1766ms 500 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-01T23:40:09.0313521+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/favicon.ico","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E01:00000003","RequestPath":"/favicon.ico"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  "}]}}
{"Timestamp":"2018-05-01T23:40:09.0369502+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/favicon.ico","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLGD74E01:00000003","RequestPath":"/favicon.ico","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:40:09.0502713+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":18.9286,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 18.9286ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLGD74E01:00000003","RequestPath":"/favicon.ico"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 18.9286ms 404 "}]}}
{"Timestamp":"2018-05-01T23:48:51.4177172+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:48:52.6729929+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:48:52.7445213+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.SqlServer.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:48:53.6159194+02:00","Level":"Information","MessageTemplate":"Services configured.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:48:53.6872065+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nk.ruak361\\AppData\\Local\\ASP.NET\\DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2018-05-01T23:48:53.7879923+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:48:53.8945168+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for authentication","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:48:53.8964645+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-in","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:48:53.8972261+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-out","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:48:53.8979602+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for challenge","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:48:53.8986780+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for forbid","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:48:54.0504202+02:00","Level":"Fatal","MessageTemplate":"Application startup exception","Exception":"System.InvalidOperationException: Unable to resolve service for type 'IdentityBase.ThemeHelper' while attempting to activate 'IdentityBase.JsonStringLocalizerFactory'.\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType, ServiceProvider serviceProvider)\r\n   at System.Collections.Concurrent.ConcurrentDictionaryExtensions.GetOrAdd[TKey,TValue,TArg](ConcurrentDictionary`2 dictionary, TKey key, Func`3 valueFactory, TArg arg)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.AspNetCore.Builder.MvcApplicationBuilderExtensions.UseMvc(IApplicationBuilder app, Action`1 configureRoutes)\r\n   at ServiceBase.Mvc.Plugins.ApplicationBuilderExtensions.UsePluginsMvcHost(IApplicationBuilder applicationBuilder, String pluginsPath) in C:\\Private\\Projects\\eConduct\\Altogether\\ServiceBase\\src\\ServiceBase.Mvc\\Plugins\\ApplicationBuilderExtensions.cs:line 30\r\n   at IdentityBase.Startup.Configure(IApplicationBuilder app) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Startup.cs:line 206\r\n   at Microsoft.AspNetCore.ApplicationInsights.HostingStartup.ApplicationInsightsLoggerStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)\r\n   at Microsoft.ApplicationInsights.AspNetCore.ApplicationInsightsStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)\r\n   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)\r\n   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()","Properties":{"EventId":{"Id":6},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost"}}
{"Timestamp":"2018-05-01T23:50:07.6613872+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:50:08.2491866+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:50:08.2843399+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.SqlServer.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:50:08.9527004+02:00","Level":"Information","MessageTemplate":"Services configured.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:50:09.0006309+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nk.ruak361\\AppData\\Local\\ASP.NET\\DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2018-05-01T23:50:09.0995386+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:50:09.2339209+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for authentication","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:50:09.2350030+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-in","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:50:09.2358860+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-out","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:50:09.2368128+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for challenge","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:50:09.2378170+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for forbid","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:50:09.3608804+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:50:16.4345350+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  "}]}}
{"Timestamp":"2018-05-01T23:50:16.4885069+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration"}}
{"Timestamp":"2018-05-01T23:50:16.4908515+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration"}}
{"Timestamp":"2018-05-01T23:50:16.5485898+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/.well-known/openid-configuration","endpoint":"Discovery","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:16.5567649+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Discovery","endpointHandler":"IdentityServer4.Endpoints.DiscoveryEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:16.5590795+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.DiscoveryEndpoint","url":"/.well-known/openid-configuration","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:16.5658272+02:00","Level":"Verbose","MessageTemplate":"Processing discovery request.","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:16.5678973+02:00","Level":"Debug","MessageTemplate":"Start discovery request","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:16.5730770+02:00","Level":"Verbose","MessageTemplate":"Calling into discovery response generator: {type}","Properties":{"type":"IdentityServer4.ResponseHandling.DiscoveryResponseGenerator","SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:16.8016402+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.0156448+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [x]\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.0772022+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [x.UserClaims]\r\nINNER JOIN (\r\n    SELECT [x0].[Id]\r\n    FROM [IdentityResources] AS [x0]\r\n) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.1511831+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]\r\nFROM [ApiResources] AS [x]\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.1715806+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]\r\nFROM [ApiSecrets] AS [x.Secrets]\r\nINNER JOIN (\r\n    SELECT [x0].[Id]\r\n    FROM [ApiResources] AS [x0]\r\n) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.1871669+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [x.Scopes]\r\nINNER JOIN (\r\n    SELECT [x1].[Id]\r\n    FROM [ApiResources] AS [x1]\r\n) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [x.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.2086381+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [x.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [x.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [x2].[Id]\r\n        FROM [ApiResources] AS [x2]\r\n    ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.2224199+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]\r\nFROM [ApiClaims] AS [x.UserClaims]\r\nINNER JOIN (\r\n    SELECT [x3].[Id]\r\n    FROM [ApiResources] AS [x3]\r\n) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.5816080+02:00","Level":"Debug","MessageTemplate":"Found {scopes} as all scopes in database","Properties":{"scopes":["openid","profile","email","custom.profile","api1","api2.full_access","api2.read_only","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.6000131+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.DiscoveryDocumentResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:17.7671228+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1339.9485,"StatusCode":200,"ContentType":"application/json; charset=UTF-8","HostingRequestFinishedLog":"Request finished in 1339.9485ms 200 application/json; charset=UTF-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802SS:00000001","RequestPath":"/.well-known/openid-configuration"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1339.9485ms 200 application/json; charset=UTF-8"}]}}
{"Timestamp":"2018-05-01T23:50:17.9948223+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/.well-known/openid-configuration/jwks","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  "}]}}
{"Timestamp":"2018-05-01T23:50:17.9994082+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks"}}
{"Timestamp":"2018-05-01T23:50:18.0003883+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks"}}
{"Timestamp":"2018-05-01T23:50:18.0023810+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/.well-known/openid-configuration/jwks","endpoint":"Discovery","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.0128103+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Discovery","endpointHandler":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.0168576+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","url":"/.well-known/openid-configuration/jwks","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.0248379+02:00","Level":"Verbose","MessageTemplate":"Processing discovery request.","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.0262863+02:00","Level":"Debug","MessageTemplate":"Start key discovery request","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.0272233+02:00","Level":"Verbose","MessageTemplate":"Calling into discovery response generator: {type}","Properties":{"type":"IdentityServer4.ResponseHandling.DiscoveryResponseGenerator","SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.0358771+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.JsonWebKeysResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.0826497+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":87.858200000000011,"StatusCode":200,"ContentType":"application/json; charset=UTF-8","HostingRequestFinishedLog":"Request finished in 87.8582ms 200 application/json; charset=UTF-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802SS:00000002","RequestPath":"/.well-known/openid-configuration/jwks"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 87.8582ms 200 application/json; charset=UTF-8"}]}}
{"Timestamp":"2018-05-01T23:50:18.1539209+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/connect/authorize","QueryString":"?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608082181107734.MmEzNWU5NzQtMzY1Yy00MDRhLWI2NTMtZWI0NTczZjczNTM0ZDhlNWM3YTUtYjE0MC00YWEyLWJlNjQtM2I2OGMzMzYwMjc1&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A-t3I0IPOmnOlcxNtNAy_5KEETFqrIGMx6FZMMOHEqFUsf7gsS1WfMXKGX1HwXW5fvdhIPeI4L6DzlIDp6bhkmrfj8FnGHK_n7QmW73mZLQIdysze4IrjuviXwqv2F1NOqWjG8tIjrHy49bYadBys6wtKaa5j5OxY2dihMoNxYOzSuN4RsUolrHf--qSGKi0LAuNuz2QNVVLZ4BOeovhYYU4oRySEnC-4fH_tM8K1pnRjMP9x3iJFjEmY4cMhbZNiE2r8FK2KEUFdiJc2Qyv9G1FL-EJXHyiQ88pnVpiqAYl0NMM6L_wjPRXE90uR4LYuU&x-client-SKU=ID_NET&x-client-ver=2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608082181107734.MmEzNWU5NzQtMzY1Yy00MDRhLWI2NTMtZWI0NTczZjczNTM0ZDhlNWM3YTUtYjE0MC00YWEyLWJlNjQtM2I2OGMzMzYwMjc1&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A-t3I0IPOmnOlcxNtNAy_5KEETFqrIGMx6FZMMOHEqFUsf7gsS1WfMXKGX1HwXW5fvdhIPeI4L6DzlIDp6bhkmrfj8FnGHK_n7QmW73mZLQIdysze4IrjuviXwqv2F1NOqWjG8tIjrHy49bYadBys6wtKaa5j5OxY2dihMoNxYOzSuN4RsUolrHf--qSGKi0LAuNuz2QNVVLZ4BOeovhYYU4oRySEnC-4fH_tM8K1pnRjMP9x3iJFjEmY4cMhbZNiE2r8FK2KEUFdiJc2Qyv9G1FL-EJXHyiQ88pnVpiqAYl0NMM6L_wjPRXE90uR4LYuU&x-client-SKU=ID_NET&x-client-ver=2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608082181107734.MmEzNWU5NzQtMzY1Yy00MDRhLWI2NTMtZWI0NTczZjczNTM0ZDhlNWM3YTUtYjE0MC00YWEyLWJlNjQtM2I2OGMzMzYwMjc1&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A-t3I0IPOmnOlcxNtNAy_5KEETFqrIGMx6FZMMOHEqFUsf7gsS1WfMXKGX1HwXW5fvdhIPeI4L6DzlIDp6bhkmrfj8FnGHK_n7QmW73mZLQIdysze4IrjuviXwqv2F1NOqWjG8tIjrHy49bYadBys6wtKaa5j5OxY2dihMoNxYOzSuN4RsUolrHf--qSGKi0LAuNuz2QNVVLZ4BOeovhYYU4oRySEnC-4fH_tM8K1pnRjMP9x3iJFjEmY4cMhbZNiE2r8FK2KEUFdiJc2Qyv9G1FL-EJXHyiQ88pnVpiqAYl0NMM6L_wjPRXE90uR4LYuU&x-client-SKU=ID_NET&x-client-ver=2.1.4.0  "}]}}
{"Timestamp":"2018-05-01T23:50:18.1631302+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.1668695+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.1746810+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.3014821+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"25","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.3797877+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.4014663+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.4178792+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.4327260+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.4468827+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.4635314+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.4770030+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.4855534+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.4929248+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.6045792+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:50:18.6124331+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/connect/authorize","endpoint":"Authorize","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.6235919+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Authorize","endpointHandler":"IdentityServer4.Endpoints.AuthorizeEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.6260801+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.AuthorizeEndpoint","url":"/connect/authorize","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.6357006+02:00","Level":"Debug","MessageTemplate":"Start authorize request","Properties":{"SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.6448625+02:00","Level":"Debug","MessageTemplate":"No user present in authorize request","Properties":{"SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.6515307+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.6671076+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.6757880+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.6836833+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.6938474+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.7038658+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.7144614+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.7222575+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.7320274+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.7397145+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.7483533+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.7560302+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.7683533+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.7733560+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.8146412+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.8294916+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.8384148+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.8820514+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.8937884+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.9074661+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.9232769+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.9358672+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.9434077+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.9629285+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.9719063+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.9826769+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.9873971+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:18.9948645+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0031850+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0114596+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0190992+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0238025+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0368019+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0397803+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0576632+02:00","Level":"Information","MessageTemplate":"ValidatedAuthorizeRequest\r\n{validationDetails}","Properties":{"validationDetails":"{\r\n  \"ClientId\": \"mvc.hybrid\",\r\n  \"ClientName\": \"MVC Hybrid\",\r\n  \"RedirectUri\": \"http://localhost:21402/signin-oidc\",\r\n  \"AllowedRedirectUris\": [\r\n    \"http://localhost:21402/signin-oidc\"\r\n  ],\r\n  \"SubjectId\": \"anonymous\",\r\n  \"ResponseType\": \"code id_token\",\r\n  \"ResponseMode\": \"form_post\",\r\n  \"GrantType\": \"hybrid\",\r\n  \"RequestedScopes\": \"openid profile email api1 idbase offline_access\",\r\n  \"State\": \"CfDJ8LLsNEIXtepIqkK-qgTs0A-t3I0IPOmnOlcxNtNAy_5KEETFqrIGMx6FZMMOHEqFUsf7gsS1WfMXKGX1HwXW5fvdhIPeI4L6DzlIDp6bhkmrfj8FnGHK_n7QmW73mZLQIdysze4IrjuviXwqv2F1NOqWjG8tIjrHy49bYadBys6wtKaa5j5OxY2dihMoNxYOzSuN4RsUolrHf--qSGKi0LAuNuz2QNVVLZ4BOeovhYYU4oRySEnC-4fH_tM8K1pnRjMP9x3iJFjEmY4cMhbZNiE2r8FK2KEUFdiJc2Qyv9G1FL-EJXHyiQ88pnVpiqAYl0NMM6L_wjPRXE90uR4LYuU\",\r\n  \"Nonce\": \"636608082181107734.MmEzNWU5NzQtMzY1Yy00MDRhLWI2NTMtZWI0NTczZjczNTM0ZDhlNWM3YTUtYjE0MC00YWEyLWJlNjQtM2I2OGMzMzYwMjc1\",\r\n  \"Raw\": {\r\n    \"client_id\": \"mvc.hybrid\",\r\n    \"redirect_uri\": \"http://localhost:21402/signin-oidc\",\r\n    \"response_type\": \"code id_token\",\r\n    \"scope\": \"openid profile email api1 idbase offline_access\",\r\n    \"response_mode\": \"form_post\",\r\n    \"nonce\": \"636608082181107734.MmEzNWU5NzQtMzY1Yy00MDRhLWI2NTMtZWI0NTczZjczNTM0ZDhlNWM3YTUtYjE0MC00YWEyLWJlNjQtM2I2OGMzMzYwMjc1\",\r\n    \"culture\": \"en-US\",\r\n    \"state\": \"CfDJ8LLsNEIXtepIqkK-qgTs0A-t3I0IPOmnOlcxNtNAy_5KEETFqrIGMx6FZMMOHEqFUsf7gsS1WfMXKGX1HwXW5fvdhIPeI4L6DzlIDp6bhkmrfj8FnGHK_n7QmW73mZLQIdysze4IrjuviXwqv2F1NOqWjG8tIjrHy49bYadBys6wtKaa5j5OxY2dihMoNxYOzSuN4RsUolrHf--qSGKi0LAuNuz2QNVVLZ4BOeovhYYU4oRySEnC-4fH_tM8K1pnRjMP9x3iJFjEmY4cMhbZNiE2r8FK2KEUFdiJc2Qyv9G1FL-EJXHyiQ88pnVpiqAYl0NMM6L_wjPRXE90uR4LYuU\",\r\n    \"x-client-SKU\": \"ID_NET\",\r\n    \"x-client-ver\": \"2.1.4.0\"\r\n  }\r\n}","SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0731327+02:00","Level":"Verbose","MessageTemplate":"ProcessInteractionAsync","Properties":{"SourceContext":"IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0788958+02:00","Level":"Information","MessageTemplate":"Showing login: User is not authenticated","Properties":{"SourceContext":"IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0875892+02:00","Level":"Verbose","MessageTemplate":"End authorize request. result type: {0}","Properties":{"0":"IdentityServer4.Endpoints.Results.LoginPageResult","SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0891770+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.LoginPageResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.0951242+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":941.2238000000001,"StatusCode":302,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 941.2238ms 302 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802ST:00000001","RequestPath":"/connect/authorize"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 941.2238ms 302 "}]}}
{"Timestamp":"2018-05-01T23:50:19.1052031+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608082181107734.MmEzNWU5NzQtMzY1Yy00MDRhLWI2NTMtZWI0NTczZjczNTM0ZDhlNWM3YTUtYjE0MC00YWEyLWJlNjQtM2I2OGMzMzYwMjc1%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A-t3I0IPOmnOlcxNtNAy_5KEETFqrIGMx6FZMMOHEqFUsf7gsS1WfMXKGX1HwXW5fvdhIPeI4L6DzlIDp6bhkmrfj8FnGHK_n7QmW73mZLQIdysze4IrjuviXwqv2F1NOqWjG8tIjrHy49bYadBys6wtKaa5j5OxY2dihMoNxYOzSuN4RsUolrHf--qSGKi0LAuNuz2QNVVLZ4BOeovhYYU4oRySEnC-4fH_tM8K1pnRjMP9x3iJFjEmY4cMhbZNiE2r8FK2KEUFdiJc2Qyv9G1FL-EJXHyiQ88pnVpiqAYl0NMM6L_wjPRXE90uR4LYuU%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608082181107734.MmEzNWU5NzQtMzY1Yy00MDRhLWI2NTMtZWI0NTczZjczNTM0ZDhlNWM3YTUtYjE0MC00YWEyLWJlNjQtM2I2OGMzMzYwMjc1%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A-t3I0IPOmnOlcxNtNAy_5KEETFqrIGMx6FZMMOHEqFUsf7gsS1WfMXKGX1HwXW5fvdhIPeI4L6DzlIDp6bhkmrfj8FnGHK_n7QmW73mZLQIdysze4IrjuviXwqv2F1NOqWjG8tIjrHy49bYadBys6wtKaa5j5OxY2dihMoNxYOzSuN4RsUolrHf--qSGKi0LAuNuz2QNVVLZ4BOeovhYYU4oRySEnC-4fH_tM8K1pnRjMP9x3iJFjEmY4cMhbZNiE2r8FK2KEUFdiJc2Qyv9G1FL-EJXHyiQ88pnVpiqAYl0NMM6L_wjPRXE90uR4LYuU%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608082181107734.MmEzNWU5NzQtMzY1Yy00MDRhLWI2NTMtZWI0NTczZjczNTM0ZDhlNWM3YTUtYjE0MC00YWEyLWJlNjQtM2I2OGMzMzYwMjc1%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A-t3I0IPOmnOlcxNtNAy_5KEETFqrIGMx6FZMMOHEqFUsf7gsS1WfMXKGX1HwXW5fvdhIPeI4L6DzlIDp6bhkmrfj8FnGHK_n7QmW73mZLQIdysze4IrjuviXwqv2F1NOqWjG8tIjrHy49bYadBys6wtKaa5j5OxY2dihMoNxYOzSuN4RsUolrHf--qSGKi0LAuNuz2QNVVLZ4BOeovhYYU4oRySEnC-4fH_tM8K1pnRjMP9x3iJFjEmY4cMhbZNiE2r8FK2KEUFdiJc2Qyv9G1FL-EJXHyiQ88pnVpiqAYl0NMM6L_wjPRXE90uR4LYuU%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-01T23:50:19.1101761+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1110389+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1184565+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1248751+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1277852+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1298573+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1363580+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1428197+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1526939+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1602897+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1683248+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1814029+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1877564+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.1966512+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2061746+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2199666+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2249996+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2277955+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2306293+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2329858+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2399010+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2459960+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2517442+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2602281+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2706755+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2769819+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2861916+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2944342+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.2986120+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3066598+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3154736+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3187226+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3266867+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3357762+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3445936+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3521595+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3584338+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3600634+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3638592+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3649879+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3685205+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3723819+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3890448+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.3948040+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.4009152+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.4091025+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.4204886+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.4311213+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.4376995+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.4448094+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.4534135+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.4617117+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:50:19.4637190+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6217301+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608082181107734.MmEzNWU5NzQtMzY1Yy00MDRhLWI2NTMtZWI0NTczZjczNTM0ZDhlNWM3YTUtYjE0MC00YWEyLWJlNjQtM2I2OGMzMzYwMjc1&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A-t3I0IPOmnOlcxNtNAy_5KEETFqrIGMx6FZMMOHEqFUsf7gsS1WfMXKGX1HwXW5fvdhIPeI4L6DzlIDp6bhkmrfj8FnGHK_n7QmW73mZLQIdysze4IrjuviXwqv2F1NOqWjG8tIjrHy49bYadBys6wtKaa5j5OxY2dihMoNxYOzSuN4RsUolrHf--qSGKi0LAuNuz2QNVVLZ4BOeovhYYU4oRySEnC-4fH_tM8K1pnRjMP9x3iJFjEmY4cMhbZNiE2r8FK2KEUFdiJc2Qyv9G1FL-EJXHyiQ88pnVpiqAYl0NMM6L_wjPRXE90uR4LYuU&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6411584+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6431092+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6442399+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6476169+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6554912+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6633936+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6712684+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6783819+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.6894710+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7044098+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7097428+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7179743+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7243454+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7331462+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7350820+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7360626+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7379340+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7435510+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7503148+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7528788+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7602890+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7696258+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7757758+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7867084+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.7942169+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8003391+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8055840+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8109920+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8151378+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8233389+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8326117+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8395755+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8492005+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8559054+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8573944+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8583339+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8609125+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8622758+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8665927+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8742568+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8815023+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.8946270+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.9051625+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.9112931+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.9200548+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.9278134+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.9367620+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.9421743+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.9521801+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:19.9748993+02:00","Level":"Error","MessageTemplate":"The view '{ViewName}' was not found. Searched locations: {SearchedViewLocations}","Properties":{"ViewName":"Login","SearchedViewLocations":["~/Plugins/BaseTheme/Views/Login/Login.cshtml","~/Plugins/BaseTheme/Views/Shared/Login.cshtml"],"EventId":{"Id":3},"SourceContext":"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:20.2029623+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":621.8549,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"e0adb8d5-6a4e-4f24-8a6f-e756ce4d030e","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:20.3431718+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request","Exception":"System.InvalidOperationException: The view 'Login' was not found. The following locations were searched:\r\n~/Plugins/BaseTheme/Views/Login/Login.cshtml\r\n~/Plugins/BaseTheme/Views/Shared/Login.cshtml\r\n   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)\r\n   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\IdentityServerMiddleware.cs:line 72\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\BaseUrlMiddleware.cs:line 43\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()","Properties":{"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:20.5198277+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1414.5907,"StatusCode":500,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 1414.5907ms 500 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802ST:00000002","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1414.5907ms 500 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-01T23:50:20.5701314+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/favicon.ico","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802ST:00000003","RequestPath":"/favicon.ico"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  "}]}}
{"Timestamp":"2018-05-01T23:50:20.5752929+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLM3802ST:00000003","RequestPath":"/favicon.ico"}}
{"Timestamp":"2018-05-01T23:50:20.5761383+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLM3802ST:00000003","RequestPath":"/favicon.ico"}}
{"Timestamp":"2018-05-01T23:50:20.5772970+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/favicon.ico","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLM3802ST:00000003","RequestPath":"/favicon.ico","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:50:20.5906007+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":20.465,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 20.465ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLM3802ST:00000003","RequestPath":"/favicon.ico"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 20.465ms 404 "}]}}
{"Timestamp":"2018-05-01T23:51:32.4780468+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:51:33.1878089+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:51:33.2206959+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.SqlServer.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-01T23:51:33.9282180+02:00","Level":"Information","MessageTemplate":"Services configured.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:51:33.9703743+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nk.ruak361\\AppData\\Local\\ASP.NET\\DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2018-05-01T23:51:34.0508697+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:51:34.1698750+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for authentication","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:51:34.1717141+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-in","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:51:34.1725785+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-out","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:51:34.1733516+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for challenge","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:51:34.1741362+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for forbid","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-01T23:51:34.3096053+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-01T23:51:39.8113468+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  "}]}}
{"Timestamp":"2018-05-01T23:51:39.8604332+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration"}}
{"Timestamp":"2018-05-01T23:51:39.8622806+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration"}}
{"Timestamp":"2018-05-01T23:51:39.9259081+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/.well-known/openid-configuration","endpoint":"Discovery","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:39.9343300+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Discovery","endpointHandler":"IdentityServer4.Endpoints.DiscoveryEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:39.9374459+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.DiscoveryEndpoint","url":"/.well-known/openid-configuration","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:39.9438787+02:00","Level":"Verbose","MessageTemplate":"Processing discovery request.","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:39.9462826+02:00","Level":"Debug","MessageTemplate":"Start discovery request","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:39.9541415+02:00","Level":"Verbose","MessageTemplate":"Calling into discovery response generator: {type}","Properties":{"type":"IdentityServer4.ResponseHandling.DiscoveryResponseGenerator","SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:40.1970541+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:40.4110285+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [x]\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:40.4722816+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [x.UserClaims]\r\nINNER JOIN (\r\n    SELECT [x0].[Id]\r\n    FROM [IdentityResources] AS [x0]\r\n) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:40.5488241+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]\r\nFROM [ApiResources] AS [x]\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:40.5738900+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]\r\nFROM [ApiSecrets] AS [x.Secrets]\r\nINNER JOIN (\r\n    SELECT [x0].[Id]\r\n    FROM [ApiResources] AS [x0]\r\n) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:40.5939623+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [x.Scopes]\r\nINNER JOIN (\r\n    SELECT [x1].[Id]\r\n    FROM [ApiResources] AS [x1]\r\n) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [x.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:40.6262132+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [x.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [x.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [x2].[Id]\r\n        FROM [ApiResources] AS [x2]\r\n    ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:40.6436315+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]\r\nFROM [ApiClaims] AS [x.UserClaims]\r\nINNER JOIN (\r\n    SELECT [x3].[Id]\r\n    FROM [ApiResources] AS [x3]\r\n) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.0215806+02:00","Level":"Debug","MessageTemplate":"Found {scopes} as all scopes in database","Properties":{"scopes":["openid","profile","email","custom.profile","api1","api2.full_access","api2.read_only","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.0393107+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.DiscoveryDocumentResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.2012766+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1395.3184,"StatusCode":200,"ContentType":"application/json; charset=UTF-8","HostingRequestFinishedLog":"Request finished in 1395.3184ms 200 application/json; charset=UTF-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UG:00000001","RequestPath":"/.well-known/openid-configuration"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1395.3184ms 200 application/json; charset=UTF-8"}]}}
{"Timestamp":"2018-05-01T23:51:41.4517071+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/.well-known/openid-configuration/jwks","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  "}]}}
{"Timestamp":"2018-05-01T23:51:41.4554970+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks"}}
{"Timestamp":"2018-05-01T23:51:41.4564523+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks"}}
{"Timestamp":"2018-05-01T23:51:41.4622258+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/.well-known/openid-configuration/jwks","endpoint":"Discovery","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.4697770+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Discovery","endpointHandler":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.4736039+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","url":"/.well-known/openid-configuration/jwks","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.4830601+02:00","Level":"Verbose","MessageTemplate":"Processing discovery request.","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.4857264+02:00","Level":"Debug","MessageTemplate":"Start key discovery request","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.4867373+02:00","Level":"Verbose","MessageTemplate":"Calling into discovery response generator: {type}","Properties":{"type":"IdentityServer4.ResponseHandling.DiscoveryResponseGenerator","SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.4953750+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.JsonWebKeysResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:41.5397080+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":88.01700000000001,"StatusCode":200,"ContentType":"application/json; charset=UTF-8","HostingRequestFinishedLog":"Request finished in 88.017ms 200 application/json; charset=UTF-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UG:00000002","RequestPath":"/.well-known/openid-configuration/jwks"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 88.017ms 200 application/json; charset=UTF-8"}]}}
{"Timestamp":"2018-05-01T23:51:41.6002707+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/connect/authorize","QueryString":"?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ&x-client-SKU=ID_NET&x-client-ver=2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ&x-client-SKU=ID_NET&x-client-ver=2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ&x-client-SKU=ID_NET&x-client-ver=2.1.4.0  "}]}}
{"Timestamp":"2018-05-01T23:51:41.6092635+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.6122916+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.6202940+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.7389272+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"26","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.8255311+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.8512073+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.8685621+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.8888212+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.9048251+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.9185429+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.9336272+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.9422063+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:41.9551269+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:42.0668157+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-01T23:51:42.0752980+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/connect/authorize","endpoint":"Authorize","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.0871408+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Authorize","endpointHandler":"IdentityServer4.Endpoints.AuthorizeEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.0904301+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.AuthorizeEndpoint","url":"/connect/authorize","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.0995291+02:00","Level":"Debug","MessageTemplate":"Start authorize request","Properties":{"SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1090470+02:00","Level":"Debug","MessageTemplate":"No user present in authorize request","Properties":{"SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1175053+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1294749+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1428429+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1531047+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1602502+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1686038+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1759238+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1884058+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.1960693+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.2080270+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.2176704+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.2252446+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.2354929+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.2398425+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.2711007+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.2817649+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.2880515+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.3241239+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.3402112+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.3513594+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.3604052+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.3720508+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.3803590+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.3969030+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4079039+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4193382+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4223327+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4292894+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4371472+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4451409+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4568324+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4668317+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4793481+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.4833311+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.5010122+02:00","Level":"Information","MessageTemplate":"ValidatedAuthorizeRequest\r\n{validationDetails}","Properties":{"validationDetails":"{\r\n  \"ClientId\": \"mvc.hybrid\",\r\n  \"ClientName\": \"MVC Hybrid\",\r\n  \"RedirectUri\": \"http://localhost:21402/signin-oidc\",\r\n  \"AllowedRedirectUris\": [\r\n    \"http://localhost:21402/signin-oidc\"\r\n  ],\r\n  \"SubjectId\": \"anonymous\",\r\n  \"ResponseType\": \"code id_token\",\r\n  \"ResponseMode\": \"form_post\",\r\n  \"GrantType\": \"hybrid\",\r\n  \"RequestedScopes\": \"openid profile email api1 idbase offline_access\",\r\n  \"State\": \"CfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ\",\r\n  \"Nonce\": \"636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1\",\r\n  \"Raw\": {\r\n    \"client_id\": \"mvc.hybrid\",\r\n    \"redirect_uri\": \"http://localhost:21402/signin-oidc\",\r\n    \"response_type\": \"code id_token\",\r\n    \"scope\": \"openid profile email api1 idbase offline_access\",\r\n    \"response_mode\": \"form_post\",\r\n    \"nonce\": \"636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1\",\r\n    \"culture\": \"en-US\",\r\n    \"state\": \"CfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ\",\r\n    \"x-client-SKU\": \"ID_NET\",\r\n    \"x-client-ver\": \"2.1.4.0\"\r\n  }\r\n}","SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.5161896+02:00","Level":"Verbose","MessageTemplate":"ProcessInteractionAsync","Properties":{"SourceContext":"IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.5227212+02:00","Level":"Information","MessageTemplate":"Showing login: User is not authenticated","Properties":{"SourceContext":"IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.5288869+02:00","Level":"Verbose","MessageTemplate":"End authorize request. result type: {0}","Properties":{"0":"IdentityServer4.Endpoints.Results.LoginPageResult","SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.5298307+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.LoginPageResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:42.5360142+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":935.7609,"StatusCode":302,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 935.7609ms 302 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UH:00000001","RequestPath":"/connect/authorize"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 935.7609ms 302 "}]}}
{"Timestamp":"2018-05-01T23:51:42.5449079+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-01T23:51:42.5523402+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.5537707+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.5618339+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.5681545+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.5724307+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.5744917+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.5846385+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.5935732+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6033434+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6146636+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6290577+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6449423+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6566882+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6694650+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6758760+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6847630+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6907675+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6922838+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6931837+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.6951097+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7026249+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7090292+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7149678+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7216531+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7305664+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7413181+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7499107+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7580248+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7605932+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7694741+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7790868+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7840773+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.7952875+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8070094+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8209113+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8330938+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8428799+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8485348+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8495137+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8506930+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8535386+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8585907+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8695074+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8769353+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8867139+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.8963148+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.9062585+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.9146314+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.9231726+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.9284835+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.9354461+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.9403006+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-01T23:51:42.9422336+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.0847293+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1015447+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1030381+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1056296+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1072037+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1148062+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1210427+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1289071+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1414366+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1513257+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1575641+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1648708+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1726365+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1802305+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1918180+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1943001+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.1966643+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2010613+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2076923+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2187877+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2226810+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2295907+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2414836+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2522388+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2641661+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2719452+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2760452+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2855520+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2929966+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.2985941+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3059624+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3152153+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3214983+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3308170+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3366466+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3390406+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3399220+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3410613+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3421272+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3464615+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3580494+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3638260+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3726379+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3795163+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3890373+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.3965850+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.4070861+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.4185524+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.4270154+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:43.4356882+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:45.8403293+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":2784.7658,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"9e1f9066-d66e-4940-a160-7e24795fe9dd","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:45.9997724+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request","Exception":"Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:\r\nC:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\DefaultTheme\\Views\\Login\\Login.cshtml(32,84): error CS0411: The type arguments for method 'IModelExpressionProvider.CreateModelExpression<TModel, TValue>(ViewDataDictionary<TModel>, Expression<Func<TModel, TValue>>)' cannot be inferred from the usage. Try specifying the type arguments explicitly.\r\nC:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\DefaultTheme\\Views\\Login\\Login.cshtml(36,84): error CS0411: The type arguments for method 'IModelExpressionProvider.CreateModelExpression<TModel, TValue>(ViewDataDictionary<TModel>, Expression<Func<TModel, TValue>>)' cannot be inferred from the usage. Try specifying the type arguments explicitly.\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)\r\n   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\IdentityServerMiddleware.cs:line 72\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\BaseUrlMiddleware.cs:line 43\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()","Properties":{"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:46.1861271+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":3641.2283,"StatusCode":500,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 3641.2283ms 500 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UH:00000002","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 3641.2283ms 500 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-01T23:51:46.2073910+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/favicon.ico","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UH:00000003","RequestPath":"/favicon.ico"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  "}]}}
{"Timestamp":"2018-05-01T23:51:46.2135678+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000003","RequestPath":"/favicon.ico"}}
{"Timestamp":"2018-05-01T23:51:46.2150500+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLMS333UH:00000003","RequestPath":"/favicon.ico"}}
{"Timestamp":"2018-05-01T23:51:46.2182919+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/favicon.ico","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLMS333UH:00000003","RequestPath":"/favicon.ico","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:51:46.2326907+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":25.334100000000003,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 25.3341ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UH:00000003","RequestPath":"/favicon.ico"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 25.3341ms 404 "}]}}
{"Timestamp":"2018-05-01T23:53:28.8915562+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/register","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/register?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/register?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608083015744344.MDFiNDJkODMtMjFkMC00ZjUwLTgxMDYtMDdhMDI3NjMxZmY3YTU4OGRiNTctODFhNS00ZmFlLTlmNGYtYjU0NTQxYmQ4ZDA1%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A8F_0T8n7EWe8SCIlo1OYQLKNS88Xox4SQrch_9x9UqrFDTvgR74tPQfVgki7mDmVGvV7TFvZmNP9RkdsxGZTByQw7ejl87Ip0Lo5fzYJmd5ahfV4iGtCcdsB3egwgtFR4XkwrpY9iF15_ai9vCh3aEhbOXekfX-lxNJHZg9MNQlHJL9vVOmrEwQZX_TxkXOSXfpwgWobD_LRUxFtp4L1o4TnyNpMS114XpbaV0ugaoGdZgkZbYnQXj5ZHnIvIA6mMM_SmvpelSkDvvn98vjONBBjZJTQbwE9hm0N9oGJPlCjXdV_qRxmKDoSNtoQMDNBQ%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-01T23:53:28.8982703+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9006537+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9047347+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9059412+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9072702+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9088054+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9186314+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9291882+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9377583+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9439462+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9518048+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9604985+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9696892+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9763334+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9846495+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:28.9915433+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0014400+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0029033+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0041410+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0060930+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0139267+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0264422+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0313279+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0383751+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0457331+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0531856+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0609426+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0665584+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0704719+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0776348+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0853397+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0882532+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.0971537+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1074493+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1222878+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1288518+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1378454+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1395245+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1424297+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1433708+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1442565+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1466142+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1531375+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1597216+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1691604+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1777736+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1853358+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1916343+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.1999792+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.2100478+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.2180802+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.2271507+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"}}
{"Timestamp":"2018-05-01T23:53:29.2317741+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/register","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:53:29.4288145+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Web.Controllers.Register.RegisterController.Index (IdentityBase.Web)","ElapsedMilliseconds":187.82750000000001,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"fb6e47c7-a93a-4ccf-b643-7cabd9dde927","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:53:29.5722075+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request","Exception":"System.InvalidOperationException: Unable to resolve service for type 'IdentityBase.ThemeHelper' while attempting to activate 'IdentityBase.DefaultEmailServiceOptionsFactory'.\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, ISet`1 callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type serviceType, Type implementationType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, ISet`1 callSiteChain)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType, ServiceProvider serviceProvider)\r\n   at System.Collections.Concurrent.ConcurrentDictionaryExtensions.GetOrAdd[TKey,TValue,TArg](ConcurrentDictionary`2 dictionary, TKey key, Func`3 valueFactory, TArg arg)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at IdentityBase.IServiceCollectionExtensions.<>c__2`2.<AddFactory>b__2_0(IServiceProvider p) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Shared\\Factories\\IServiceCollectionExtensions.cs:line 21\r\n   at IdentityBase.IServiceCollectionExtensions.<>c__DisplayClass3_0`2.<Add>g__factoryFunc|0(IServiceProvider provider) in C:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Shared\\Factories\\IServiceCollectionExtensions.cs:line 34\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.<>c__DisplayClass22_0.<RealizeService>b__0(ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\r\n   at Microsoft.Extensions.Internal.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)\r\n   at lambda_method(Closure , IServiceProvider , Object[] )\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\IdentityServerMiddleware.cs:line 72\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\BaseUrlMiddleware.cs:line 43\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()","Properties":{"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-01T23:53:29.7447286+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":853.20120000000009,"StatusCode":500,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 853.2012ms 500 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFLMS333UH:00000004","RequestPath":"/register"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 853.2012ms 500 text/html; charset=utf-8"}]}}

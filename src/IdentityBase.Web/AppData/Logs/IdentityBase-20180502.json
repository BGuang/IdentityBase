{"Timestamp":"2018-05-02T00:20:08.5176750+02:00","Level":"Information","MessageTemplate":"Configure services.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-02T00:20:09.5952092+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"DefaultTheme.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-02T00:20:09.6401446+02:00","Level":"Information","MessageTemplate":"Executing ConfigureServices action '{0}'","Properties":{"0":"IdentityBase.EntityFramework.SqlServer.ConfigureServicesAction","SourceContext":"Plugins"}}
{"Timestamp":"2018-05-02T00:20:10.6019971+02:00","Level":"Information","MessageTemplate":"Services configured.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-02T00:20:10.8612570+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nk.ruak361\\AppData\\Local\\ASP.NET\\DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2018-05-02T00:20:11.0076215+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-02T00:20:11.2385542+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for authentication","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-02T00:20:11.2424238+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-in","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-02T00:20:11.2443036+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for sign-out","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-02T00:20:11.2460031+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for challenge","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-02T00:20:11.2484205+02:00","Level":"Debug","MessageTemplate":"Using {scheme} as default scheme for forbid","Properties":{"scheme":"idsrv","SourceContext":"IdentityServer4.Startup"}}
{"Timestamp":"2018-05-02T00:20:11.6794877+02:00","Level":"Information","MessageTemplate":"Configure application.","Properties":{"SourceContext":"IdentityBase.Startup"}}
{"Timestamp":"2018-05-02T00:20:18.8410404+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/.well-known/openid-configuration","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  "}]}}
{"Timestamp":"2018-05-02T00:20:18.9045072+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration"}}
{"Timestamp":"2018-05-02T00:20:18.9066512+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration"}}
{"Timestamp":"2018-05-02T00:20:18.9811120+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/.well-known/openid-configuration","endpoint":"Discovery","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:18.9935316+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Discovery","endpointHandler":"IdentityServer4.Endpoints.DiscoveryEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:18.9984497+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.DiscoveryEndpoint","url":"/.well-known/openid-configuration","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.0076511+02:00","Level":"Verbose","MessageTemplate":"Processing discovery request.","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.0100061+02:00","Level":"Debug","MessageTemplate":"Start discovery request","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.0231395+02:00","Level":"Verbose","MessageTemplate":"Calling into discovery response generator: {type}","Properties":{"type":"IdentityServer4.ResponseHandling.DiscoveryResponseGenerator","SourceContext":"IdentityServer4.Endpoints.DiscoveryEndpoint","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.2836723+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.5337410+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [x]\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.6016435+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [x.UserClaims]\r\nINNER JOIN (\r\n    SELECT [x0].[Id]\r\n    FROM [IdentityResources] AS [x0]\r\n) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.7003095+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]\r\nFROM [ApiResources] AS [x]\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.7361874+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]\r\nFROM [ApiSecrets] AS [x.Secrets]\r\nINNER JOIN (\r\n    SELECT [x0].[Id]\r\n    FROM [ApiResources] AS [x0]\r\n) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.7631319+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [x.Scopes]\r\nINNER JOIN (\r\n    SELECT [x1].[Id]\r\n    FROM [ApiResources] AS [x1]\r\n) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [x.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.8014682+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [x.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [x.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [x2].[Id]\r\n        FROM [ApiResources] AS [x2]\r\n    ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:19.8216887+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]\r\nFROM [ApiClaims] AS [x.UserClaims]\r\nINNER JOIN (\r\n    SELECT [x3].[Id]\r\n    FROM [ApiResources] AS [x3]\r\n) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.2868123+02:00","Level":"Debug","MessageTemplate":"Found {scopes} as all scopes in database","Properties":{"scopes":["openid","profile","email","custom.profile","api1","api2.full_access","api2.read_only","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.3092928+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.DiscoveryDocumentResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.5318929+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1698.8406,"StatusCode":200,"ContentType":"application/json; charset=UTF-8","HostingRequestFinishedLog":"Request finished in 1698.8406ms 200 application/json; charset=UTF-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRA:00000001","RequestPath":"/.well-known/openid-configuration"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1698.8406ms 200 application/json; charset=UTF-8"}]}}
{"Timestamp":"2018-05-02T00:20:20.8054208+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/.well-known/openid-configuration/jwks","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  "}]}}
{"Timestamp":"2018-05-02T00:20:20.8105772+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks"}}
{"Timestamp":"2018-05-02T00:20:20.8119721+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks"}}
{"Timestamp":"2018-05-02T00:20:20.8196170+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/.well-known/openid-configuration/jwks","endpoint":"Discovery","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.8262706+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Discovery","endpointHandler":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.8274724+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","url":"/.well-known/openid-configuration/jwks","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.8371996+02:00","Level":"Verbose","MessageTemplate":"Processing discovery request.","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.8389265+02:00","Level":"Debug","MessageTemplate":"Start key discovery request","Properties":{"SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.8416646+02:00","Level":"Verbose","MessageTemplate":"Calling into discovery response generator: {type}","Properties":{"type":"IdentityServer4.ResponseHandling.DiscoveryResponseGenerator","SourceContext":"IdentityServer4.Endpoints.DiscoveryKeyEndpoint","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.8565933+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.JsonWebKeysResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:20.9062316+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":100.84270000000001,"StatusCode":200,"ContentType":"application/json; charset=UTF-8","HostingRequestFinishedLog":"Request finished in 100.8427ms 200 application/json; charset=UTF-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRA:00000002","RequestPath":"/.well-known/openid-configuration/jwks"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 100.8427ms 200 application/json; charset=UTF-8"}]}}
{"Timestamp":"2018-05-02T00:20:20.9628049+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/connect/authorize","QueryString":"?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:20:20.9730121+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:20.9740665+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:20.9840801+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.1154979+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"25","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.1895594+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.2186438+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.2359058+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.2575607+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.2789031+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.3061379+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.3155621+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.3247121+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.3339640+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.5114434+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"}}
{"Timestamp":"2018-05-02T00:20:21.5241086+02:00","Level":"Debug","MessageTemplate":"Request path {path} matched to endpoint type {endpoint}","Properties":{"path":"/connect/authorize","endpoint":"Authorize","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.5400601+02:00","Level":"Debug","MessageTemplate":"Endpoint enabled: {endpoint}, successfully created handler: {endpointHandler}","Properties":{"endpoint":"Authorize","endpointHandler":"IdentityServer4.Endpoints.AuthorizeEndpoint","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.5424786+02:00","Level":"Information","MessageTemplate":"Invoking IdentityServer endpoint: {endpointType} for {url}","Properties":{"endpointType":"IdentityServer4.Endpoints.AuthorizeEndpoint","url":"/connect/authorize","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.5584633+02:00","Level":"Debug","MessageTemplate":"Start authorize request","Properties":{"SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.5754612+02:00","Level":"Debug","MessageTemplate":"No user present in authorize request","Properties":{"SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.5863218+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.6048348+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.6167862+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.6351570+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.6456396+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.6661836+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.7024654+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.7344191+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.7554791+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.7894268+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.8054595+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.8147068+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.8296480+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.8350402+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.8914437+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.9052479+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.9127402+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.9587026+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.9704110+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.9777971+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:21.9921658+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0019848+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0092708+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0284125+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0365997+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0467848+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0529205+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0585588+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0681012+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0770627+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.0952747+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.1103909+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.1292374+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.1314209+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.1573958+02:00","Level":"Information","MessageTemplate":"ValidatedAuthorizeRequest\r\n{validationDetails}","Properties":{"validationDetails":"{\r\n  \"ClientId\": \"mvc.hybrid\",\r\n  \"ClientName\": \"MVC Hybrid\",\r\n  \"RedirectUri\": \"http://localhost:21402/signin-oidc\",\r\n  \"AllowedRedirectUris\": [\r\n    \"http://localhost:21402/signin-oidc\"\r\n  ],\r\n  \"SubjectId\": \"anonymous\",\r\n  \"ResponseType\": \"code id_token\",\r\n  \"ResponseMode\": \"form_post\",\r\n  \"GrantType\": \"hybrid\",\r\n  \"RequestedScopes\": \"openid profile email api1 idbase offline_access\",\r\n  \"State\": \"CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY\",\r\n  \"Nonce\": \"636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4\",\r\n  \"Raw\": {\r\n    \"client_id\": \"mvc.hybrid\",\r\n    \"redirect_uri\": \"http://localhost:21402/signin-oidc\",\r\n    \"response_type\": \"code id_token\",\r\n    \"scope\": \"openid profile email api1 idbase offline_access\",\r\n    \"response_mode\": \"form_post\",\r\n    \"nonce\": \"636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4\",\r\n    \"culture\": \"en-US\",\r\n    \"state\": \"CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY\",\r\n    \"x-client-SKU\": \"ID_NET\",\r\n    \"x-client-ver\": \"2.1.4.0\"\r\n  }\r\n}","SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.1891987+02:00","Level":"Verbose","MessageTemplate":"ProcessInteractionAsync","Properties":{"SourceContext":"IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.1978917+02:00","Level":"Information","MessageTemplate":"Showing login: User is not authenticated","Properties":{"SourceContext":"IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.2022918+02:00","Level":"Verbose","MessageTemplate":"End authorize request. result type: {0}","Properties":{"0":"IdentityServer4.Endpoints.Results.LoginPageResult","SourceContext":"IdentityServer4.Endpoints.AuthorizeEndpoint","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.2046544+02:00","Level":"Verbose","MessageTemplate":"Invoking result: {type}","Properties":{"type":"IdentityServer4.Endpoints.Results.LoginPageResult","SourceContext":"IdentityServer4.Hosting.IdentityServerMiddleware","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.2124793+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1249.768,"StatusCode":302,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 1249.768ms 302 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRB:00000001","RequestPath":"/connect/authorize"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1249.768ms 302 "}]}}
{"Timestamp":"2018-05-02T00:20:22.2208685+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:20:22.2278469+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.2293915+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.2452960+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.2511357+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.2554048+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.2570988+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.2669778+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.2809270+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.2915898+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3050890+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3135102+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3284300+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3374312+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3473144+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3603633+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3687746+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3743939+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3757237+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3768058+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3817531+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3896567+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.3953240+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4018361+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4081816+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4255039+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4394642+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4475432+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4565665+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4611117+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4727181+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4870917+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.4907994+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5041971+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5194749+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5383506+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5578485+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5680849+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5719767+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5739971+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5771216+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5831787+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.5879447+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.6076694+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.6245429+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.6385696+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.6452007+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.6612509+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.6743168+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.6849546+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.6971134+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.7089858+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.7228134+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:20:22.7244833+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.9437562+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.9732989+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.9747832+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.9808438+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:22.9872473+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0069191+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0196855+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0294767+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0411947+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0515314+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0607356+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0706019+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0794833+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0887483+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.0972674+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.1000371+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.1012338+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.1049454+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.1156784+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.1284761+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.1393431+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.1618747+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.1801759+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.2008870+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.2145570+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.2390686+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.2435759+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.2561175+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.2718263+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.2754305+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.2909687+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.3086703+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.3289803+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.3558537+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.3741807+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.3775556+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.3845704+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.3888683+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.3939693+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.4078865+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.4255976+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.4435436+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.4619006+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.4711893+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.4774708+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.4957163+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.5107516+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.5254811+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.5384723+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:23.5512379+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:26.5225245+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":3633.3247,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:26.6887966+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request","Exception":"Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:\r\nC:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\DefaultTheme\\Views\\Login\\Login.cshtml(32,84): error CS0411: The type arguments for method 'IModelExpressionProvider.CreateModelExpression<TModel, TValue>(ViewDataDictionary<TModel>, Expression<Func<TModel, TValue>>)' cannot be inferred from the usage. Try specifying the type arguments explicitly.\r\nC:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\DefaultTheme\\Views\\Login\\Login.cshtml(36,84): error CS0411: The type arguments for method 'IModelExpressionProvider.CreateModelExpression<TModel, TValue>(ViewDataDictionary<TModel>, Expression<Func<TModel, TValue>>)' cannot be inferred from the usage. Try specifying the type arguments explicitly.\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)\r\n   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\IdentityServerMiddleware.cs:line 72\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\BaseUrlMiddleware.cs:line 43\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()","Properties":{"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:26.9004490+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":4679.6303,"StatusCode":500,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 4679.6303ms 500 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRB:00000002","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 4679.6303ms 500 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:20:26.9380206+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/favicon.ico","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRB:00000003","RequestPath":"/favicon.ico"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  "}]}}
{"Timestamp":"2018-05-02T00:20:26.9597194+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRB:00000003","RequestPath":"/favicon.ico"}}
{"Timestamp":"2018-05-02T00:20:26.9717751+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRB:00000003","RequestPath":"/favicon.ico"}}
{"Timestamp":"2018-05-02T00:20:26.9768497+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/favicon.ico","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRB:00000003","RequestPath":"/favicon.ico","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:20:26.9957831+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":57.598400000000005,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 57.5984ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRB:00000003","RequestPath":"/favicon.ico"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 57.5984ms 404 "}]}}
{"Timestamp":"2018-05-02T00:54:44.0832292+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:54:44.1044215+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1054874+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1068401+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1099662+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1113672+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1135712+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1268172+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1402747+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1504582+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1602660+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1686220+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1771078+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1888855+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.1986451+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2090032+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2219802+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2326018+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2342255+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2355122+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2379189+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2476264+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2600452+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2657218+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2774623+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.2888472+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3014153+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3116462+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3184511+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3240967+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3306021+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3407177+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3441069+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3570365+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3642713+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3718256+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3909012+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.3977077+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4026251+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4041401+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4057860+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4115847+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4144556+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4259100+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4332254+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4397818+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4512145+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4577612+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4732515+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4875322+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.4988384+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.5079696+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.5184165+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:54:44.5201276+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.5443540+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.5515568+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.5527147+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.5558870+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.5589199+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.5701448+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.5811867+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.5957061+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6188022+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6281103+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6391025+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6460607+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6582907+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6722348+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6844856+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6858371+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6869663+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.6893081+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.7011494+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.7075198+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.7141248+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.7327306+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.7443984+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.7546787+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.7658242+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.7775231+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.7839227+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8053620+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8124999+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8171087+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8280721+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8421971+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8570925+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8726726+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8789945+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8812499+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8864567+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8876404+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8891590+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.8942933+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.9104995+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.9260033+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.9409236+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.9486249+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.9605744+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.9749092+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.9887857+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:44.9953094+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:45.0054139+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:45.0167000+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:45.7197477+02:00","Level":"Information","MessageTemplate":"Executing ViewResult, running view at path {Path}.","Properties":{"Path":"/Plugins/DefaultTheme/Views/Login/Login.cshtml","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:46.2124758+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":1685.7364,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:46.2206022+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":2137.4661,"StatusCode":200,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 2137.4661ms 200 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000001","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 2137.4661ms 200 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:54:46.2274842+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/css/site.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000001","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  "}]}}
{"Timestamp":"2018-05-02T00:54:46.2276656+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/jquery/jquery.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000001","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  "}]}}
{"Timestamp":"2018-05-02T00:54:46.2563008+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/css/bootstrap.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000002","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  "}]}}
{"Timestamp":"2018-05-02T00:54:46.2564332+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000001","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:54:46.3058151+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000001","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:54:46.3091024+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/css/site.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000001","RequestPath":"/Default/css/site.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:46.3110770+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":83.6263,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 83.6263ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000001","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 83.6263ms 404 "}]}}
{"Timestamp":"2018-05-02T00:54:46.2786377+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000001","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:54:46.3386215+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000001","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:54:46.3409338+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/jquery/jquery.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000001","RequestPath":"/Default/lib/jquery/jquery.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:46.3425156+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":114.8378,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 114.8378ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000001","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 114.8378ms 404 "}]}}
{"Timestamp":"2018-05-02T00:54:46.3042301+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000002","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:54:46.3496536+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000002","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:54:46.3508616+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000002","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:54:46.3563467+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000002","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:54:46.3610883+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000002","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:54:46.3638446+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000002","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:46.3656026+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":15.908700000000001,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 15.9087ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000002","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 15.9087ms 404 "}]}}
{"Timestamp":"2018-05-02T00:54:46.3593314+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/css/bootstrap.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000002","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:46.3755009+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":119.23010000000001,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 119.2301ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000002","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 119.2301ms 404 "}]}}
{"Timestamp":"2018-05-02T00:54:46.3746867+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/icon.png","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000003","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  "}]}}
{"Timestamp":"2018-05-02T00:54:46.4030790+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000003","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:54:46.4063916+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000003","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:54:46.4111711+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000003","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:54:46.4095545+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000003","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:54:46.4125894+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/icon.png","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000003","RequestPath":"/Default/icon.png","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:46.4135952+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000003","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:54:46.4166676+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":41.9788,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 41.9788ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000003","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 41.9788ms 404 "}]}}
{"Timestamp":"2018-05-02T00:54:46.4180819+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000003","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:46.4471971+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":44.0715,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 44.0715ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000003","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 44.0715ms 404 "}]}}
{"Timestamp":"2018-05-02T00:54:46.4536331+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/favicon.ico","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/favicon.ico  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000004","RequestPath":"/Default/favicon.ico"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/favicon.ico  "}]}}
{"Timestamp":"2018-05-02T00:54:46.4569619+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000004","RequestPath":"/Default/favicon.ico"}}
{"Timestamp":"2018-05-02T00:54:46.4579480+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000004","RequestPath":"/Default/favicon.ico"}}
{"Timestamp":"2018-05-02T00:54:46.4592975+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/favicon.ico","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000004","RequestPath":"/Default/favicon.ico","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:54:46.4610843+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":7.4694,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 7.4694ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000004","RequestPath":"/Default/favicon.ico"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 7.4694ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:00.0602497+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:55:00.0676907+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.0687028+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.0714106+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.0730264+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.0741993+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.0754422+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.0806728+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.0921395+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.0994719+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1084872+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1148963+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1238179+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1327029+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1414871+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1519645+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1584989+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1652263+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1671471+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1715980+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1740445+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1811058+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1897064+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.1951042+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2071859+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2255638+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2332438+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2451012+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2559054+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2609713+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2682515+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2781217+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2845268+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2930242+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.2999765+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3096231+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3237632+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3331392+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3379463+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3399236+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3409962+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3427262+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3451321+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3568535+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3734367+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3802586+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3894232+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.3969448+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.4127801+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.4229589+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.4441180+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.4556175+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.4611748+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:00.4677060+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.4702597+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.4791443+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.4800351+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.4816612+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.4866527+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.4958878+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5058409+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5136312+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5254207+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5369059+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5452073+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5569920+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5655755+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5726337+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5797634+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5813819+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5829796+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5882303+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.5940394+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6012986+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6047262+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6120577+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6229085+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6337178+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6430057+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6496720+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6570529+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6630247+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6713238+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6766898+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6822615+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6904317+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.6967468+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7042545+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7134974+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7170506+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7179047+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7188880+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7210585+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7228757+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7296788+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7389193+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7460549+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7560954+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7636849+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7706408+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7782193+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7852007+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.7961289+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.8042997+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:00.8983944+02:00","Level":"Information","MessageTemplate":"Executing ViewResult, running view at path {Path}.","Properties":{"Path":"/Plugins/DefaultTheme/Views/Login/Login.cshtml","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:01.0161769+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":546.2921,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:01.0228026+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":962.57220000000007,"StatusCode":200,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 962.5722ms 200 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000005","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 962.5722ms 200 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:55:01.0301096+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/css/bootstrap.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000006","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  "}]}}
{"Timestamp":"2018-05-02T00:55:01.0301084+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/css/site.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000004","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  "}]}}
{"Timestamp":"2018-05-02T00:55:01.0301088+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/jquery/jquery.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000002","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  "}]}}
{"Timestamp":"2018-05-02T00:55:01.1737518+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000004","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:55:01.1775910+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000004","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:55:01.1792661+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/css/site.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000004","RequestPath":"/Default/css/site.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:01.0829886+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000006","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:55:01.1825159+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":152.4018,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 152.4018ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000004","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 152.4018ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:01.2621363+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000006","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:55:01.2925983+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/css/bootstrap.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000006","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:01.2937400+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":263.6268,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 263.6268ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000006","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 263.6268ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:01.3142110+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/icon.png","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000005","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  "}]}}
{"Timestamp":"2018-05-02T00:55:01.3273749+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000007","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:55:01.1773548+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000002","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:55:01.3743157+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000002","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:55:01.3767994+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/jquery/jquery.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000002","RequestPath":"/Default/lib/jquery/jquery.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:01.3783196+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":348.223,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 348.223ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000002","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 348.223ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:01.3447030+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000005","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:55:01.3927303+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000005","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:55:01.3972403+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/icon.png","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000005","RequestPath":"/Default/icon.png","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:01.4041235+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":89.912100000000009,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 89.9121ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000005","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 89.9121ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:01.3700672+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000007","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:55:01.4158020+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000007","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:55:01.4184769+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000007","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:01.4250326+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":97.681000000000012,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 97.681ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000007","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 97.681ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:12.9566661+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:55:12.9671739+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:12.9684254+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:12.9694917+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:12.9705714+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:12.9721426+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:12.9735087+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:12.9795812+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:12.9935083+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0029562+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0101175+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0229890+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0310269+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0404611+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0561091+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0638542+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0725132+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0782965+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0822112+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0851544+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0877910+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.0959309+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1070867+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1146995+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1259126+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1347145+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1428809+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1596801+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1655709+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1716880+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1787225+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1921332+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.1958535+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2026996+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2162696+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2250980+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2383239+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2477999+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2503934+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2535409+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2545329+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2555723+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2580363+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2712069+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2787573+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.2916624+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.3028755+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.3138748+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.3207532+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.3281985+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.3384884+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.3492300+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.3585540+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:13.3599575+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.3637028+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.3711438+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.3746468+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.3757897+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.3783027+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.3878229+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.3936540+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4049860+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4145417+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4231332+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4343995+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4413269+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4469877+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4567727+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4655391+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4680928+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4694510+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4717147+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4825019+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4908239+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.4952095+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5055541+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5182285+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5261119+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5360276+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5410398+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5464388+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5542961+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5612468+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5674138+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5758333+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5850122+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.5946908+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6100524+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6174847+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6229211+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6248068+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6268078+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6280297+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6308023+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6405097+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6502041+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6650178+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6728392+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6834040+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.6920721+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.7068967+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.7200226+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.7293766+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.7416728+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:13.8378763+02:00","Level":"Information","MessageTemplate":"Executing ViewResult, running view at path {Path}.","Properties":{"Path":"/Plugins/DefaultTheme/Views/Login/Login.cshtml","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:14.0287973+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":665.4029,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:14.0363157+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1079.7065,"StatusCode":200,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 1079.7065ms 200 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000008","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1079.7065ms 200 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:55:14.0438400+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/css/bootstrap.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000009","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  "}]}}
{"Timestamp":"2018-05-02T00:55:14.0447636+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/jquery/jquery.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000003","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  "}]}}
{"Timestamp":"2018-05-02T00:55:14.0686116+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000009","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:55:14.0727372+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000009","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:55:14.0752621+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/css/bootstrap.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000009","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:14.0765476+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":32.732,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 32.732ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000009","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 32.732ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:14.0439502+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/css/site.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000006","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  "}]}}
{"Timestamp":"2018-05-02T00:55:14.0722608+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000003","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:55:14.1100133+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000003","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:55:14.1111554+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/jquery/jquery.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000003","RequestPath":"/Default/lib/jquery/jquery.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:14.1093650+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000006","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:55:14.1155118+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000006","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:55:14.1197962+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/css/site.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000006","RequestPath":"/Default/css/site.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:14.1219552+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":77.979300000000009,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 77.9793ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000006","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 77.9793ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:14.1121446+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":67.3999,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 67.3999ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000003","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 67.3999ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:14.1293670+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/icon.png","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000007","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  "}]}}
{"Timestamp":"2018-05-02T00:55:14.1359408+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000004","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:55:14.1591302+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000007","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:55:14.1848748+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000007","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:55:14.1862179+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/icon.png","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000007","RequestPath":"/Default/icon.png","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:14.1878698+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":58.499900000000004,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 58.4999ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000007","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 58.4999ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:14.1835245+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000004","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:55:14.2144737+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000004","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:55:14.2166946+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000004","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:14.2183741+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":82.4423,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 82.4423ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000004","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 82.4423ms 404 "}]}}
{"Timestamp":"2018-05-02T00:55:29.4034361+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:55:29.4154350+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4193769+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4226990+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4244163+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4282772+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4307539+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4404155+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4485352+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4562832+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4673030+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4787046+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4896244+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.4979820+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5065525+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5175936+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5240197+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5299219+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5315350+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5324089+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5374609+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5441379+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5568083+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5607850+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5681706+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5756840+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5842789+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.5959143+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6068666+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6105222+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6250635+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6335455+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6388473+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6453504+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6598503+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6722613+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6831346+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.6947332+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7012588+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7027036+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7039262+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7050636+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7074171+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7193356+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7293295+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7398046+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7513831+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7606397+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7714313+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7835597+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.7929966+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.8051143+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.8135196+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:55:29.8154614+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8169883+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8231801+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8239350+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8248781+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8265401+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8350387+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8410361+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8486197+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8581541+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8628933+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8710466+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8773675+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8881180+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.8952556+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9026733+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9036826+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9045103+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9060487+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9139586+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9226567+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9254426+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9327347+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9410330+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9514252+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9596416+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9692835+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9718455+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9798949+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9902964+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:29.9940472+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0040955+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0134905+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0246842+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0306536+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0379575+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0397709+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0442734+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0459891+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0478060+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0508966+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0595600+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0675994+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0741278+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0840913+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.0929193+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.1021306+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.1112731+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.1220141+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.1283216+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.1375127+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.5148021+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":698.073,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.6530482+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request","Exception":"Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:\r\nC:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\DefaultTheme\\Views\\Login\\Login.cshtml(31,84): error CS0411: The type arguments for method 'IModelExpressionProvider.CreateModelExpression<TModel, TValue>(ViewDataDictionary<TModel>, Expression<Func<TModel, TValue>>)' cannot be inferred from the usage. Try specifying the type arguments explicitly.\r\nC:\\Private\\Projects\\eConduct\\Altogether\\IdentityBase\\src\\IdentityBase.Web\\Plugins\\DefaultTheme\\Views\\Login\\Login.cshtml(35,84): error CS0411: The type arguments for method 'IModelExpressionProvider.CreateModelExpression<TModel, TValue>(ViewDataDictionary<TModel>, Expression<Func<TModel, TValue>>)' cannot be inferred from the usage. Try specifying the type arguments explicitly.\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)\r\n   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\IdentityServerMiddleware.cs:line 72\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\\ballen\\github\\identity\\IdSvr4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\BaseUrlMiddleware.cs:line 43\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()","Properties":{"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:55:30.7580513+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1354.6436,"StatusCode":500,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 1354.6436ms 500 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000005","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1354.6436ms 500 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:56:15.1475070+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:56:15.1728637+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.1736708+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.1749094+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.1764509+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.1784301+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.1799622+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.1884790+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.1999606+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.2102046+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.2207050+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.2311931+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.2413548+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.2530846+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.2627138+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.2736298+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.2833069+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.2961306+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3001741+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3018795+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3047836+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3136784+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3266190+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3332060+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3441006+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3523219+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3588119+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3731282+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3796076+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3826433+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3899412+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.3995286+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4050137+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4195669+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4263695+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4442046+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4543074+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4590767+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4631470+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4643582+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4681442+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4699385+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4731266+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4825255+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4897303+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.4985438+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.5047154+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.5117645+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.5220974+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.5321201+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.5397614+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.5487044+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.5567664+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:15.5586877+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.5604512+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.5742977+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.5752380+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.5762157+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.5780690+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.5862302+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6003691+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6067600+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6146102+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6250469+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6310041+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6391384+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6465961+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6527476+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6613192+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6626514+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6672839+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6694397+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6753558+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6832227+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6869634+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.6934591+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7040317+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7113424+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7185973+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7281870+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7321618+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7424148+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7544045+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7602380+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7705460+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7787091+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7860027+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.7959184+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8083870+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8121196+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8133600+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8151970+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8165869+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8192492+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8265998+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8327322+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8422027+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8506551+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8605802+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8669853+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8744074+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8842812+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8905729+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.8965233+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:15.9937082+02:00","Level":"Information","MessageTemplate":"Executing ViewResult, running view at path {Path}.","Properties":{"Path":"/Plugins/DefaultTheme/Views/Login/Login.cshtml","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:16.0037475+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":443.60290000000003,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:16.0109242+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":863.5313,"StatusCode":200,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 863.5313ms 200 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000006","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 863.5313ms 200 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:56:16.0204069+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/css/bootstrap.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000007","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  "}]}}
{"Timestamp":"2018-05-02T00:56:16.0216758+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/jquery/jquery.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000A","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  "}]}}
{"Timestamp":"2018-05-02T00:56:16.0599056+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000007","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:56:16.0682861+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000007","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:56:16.0207336+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/css/site.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000008","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  "}]}}
{"Timestamp":"2018-05-02T00:56:16.0647561+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:0000000A","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:56:16.1043267+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000008","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:56:16.2078275+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000008","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:56:16.2255638+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/css/site.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000008","RequestPath":"/Default/css/site.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:16.2299016+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":208.69580000000002,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 208.6958ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000008","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 208.6958ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:16.0692717+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/css/bootstrap.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000007","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:16.2390409+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":218.6861,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 218.6861ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000007","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 218.6861ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:16.2413999+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/icon.png","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000009","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  "}]}}
{"Timestamp":"2018-05-02T00:56:16.2548087+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000008","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:56:16.1625794+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:0000000A","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:56:16.2843332+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/jquery/jquery.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:0000000A","RequestPath":"/Default/lib/jquery/jquery.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:16.2895568+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":267.788,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 267.788ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000A","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 267.788ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:16.2581066+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000009","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:56:16.2824432+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000008","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:56:16.2993278+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000008","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:56:16.3011905+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000008","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:16.3038236+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":49.048500000000004,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 49.0485ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000008","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 49.0485ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:16.2956814+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000009","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:56:16.3120476+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/icon.png","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000009","RequestPath":"/Default/icon.png","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:16.3177898+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":76.39670000000001,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 76.3967ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000009","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 76.3967ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:32.7070476+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:56:32.7123901+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7131726+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7143898+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7187008+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7197959+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7209238+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7256436+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7340877+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7437678+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7525177+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7623164+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7721792+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7890281+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.7961468+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8056828+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8164799+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8295295+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8316020+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8332399+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8367891+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8474879+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8564024+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8615316+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8694580+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8848026+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.8930827+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9055437+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9186456+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9239707+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9301914+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9394054+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9460286+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9584490+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9705125+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9798621+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:32.9941317+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0044251+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0095739+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0108645+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0121319+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0133064+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0167747+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0305355+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0374867+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0464466+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0571350+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0687732+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0749614+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0899347+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.0964642+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.1043789+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.1107896+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:56:33.1118977+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1130347+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1185924+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1211193+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1222180+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1240846+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1298371+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1357892+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1411896+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1499047+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1583511+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1697206+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1777850+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1869228+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.1977541+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2050146+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2063551+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2097261+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2116165+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2198701+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2270413+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2297581+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2370178+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2429473+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2511780+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2613276+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2701900+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2732351+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2824231+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2883759+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2917541+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.2968879+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3044620+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3155617+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3227368+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3288820+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3309565+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3354065+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3377926+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3388265+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3406940+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3484218+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3604858+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3671256+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3747633+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3827341+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.3943699+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.4006691+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.4114184+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.4206865+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.4272505+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.5165234+02:00","Level":"Information","MessageTemplate":"Executing ViewResult, running view at path {Path}.","Properties":{"Path":"/Plugins/DefaultTheme/Views/Login/Login.cshtml","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.5296193+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":416.8157,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.5370631+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":830.03640000000007,"StatusCode":200,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 830.0364ms 200 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000A","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 830.0364ms 200 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:56:33.5438534+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/css/bootstrap.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000B","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  "}]}}
{"Timestamp":"2018-05-02T00:56:33.5447194+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/jquery/jquery.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000B","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  "}]}}
{"Timestamp":"2018-05-02T00:56:33.5694084+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000B","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:56:33.5742294+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:0000000B","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:56:33.5735451+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:0000000B","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:56:33.5439388+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/css/site.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000009","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  "}]}}
{"Timestamp":"2018-05-02T00:56:33.5804860+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:0000000B","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:56:33.6079594+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000009","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:56:33.6089806+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/jquery/jquery.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:0000000B","RequestPath":"/Default/lib/jquery/jquery.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.6115797+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":66.88430000000001,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 66.8843ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000B","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 66.8843ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:33.6100725+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000009","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:56:33.6195315+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/css/site.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000009","RequestPath":"/Default/css/site.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.6216743+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":77.7328,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 77.7328ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000009","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 77.7328ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:33.6286531+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000A","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:56:33.6334495+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:0000000A","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:56:33.6351084+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:0000000A","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:56:33.6395762+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:0000000A","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.6406773+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":12.0442,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 12.0442ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000A","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 12.0442ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:33.5772840+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/css/bootstrap.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:0000000B","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.6507584+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":106.92190000000001,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 106.9219ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000B","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 106.9219ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:33.6467939+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/icon.png","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000B","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  "}]}}
{"Timestamp":"2018-05-02T00:56:33.6784404+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000C","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:56:33.6817321+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:0000000B","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:56:33.6864748+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:0000000B","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:56:33.6876015+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/icon.png","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:0000000B","RequestPath":"/Default/icon.png","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.6887456+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":41.9709,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 41.9709ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000B","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 41.9709ms 404 "}]}}
{"Timestamp":"2018-05-02T00:56:33.6855728+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000C","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:56:33.7198891+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:0000000C","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:56:33.7226549+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:0000000C","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:56:33.7248701+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":46.4423,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 46.4423ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000C","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 46.4423ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:04.8758628+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:57:04.8850187+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.8884835+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.8896050+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.8911224+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.8923377+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.8936931+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.9072509+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.9427634+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.9564274+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.9632055+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.9724598+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.9835772+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:04.9923496+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0053025+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0177386+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0282805+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0501539+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0514624+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0527487+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0598416+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0714892+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0802541+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0860607+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.0956018+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.1540220+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.1646630+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.1766231+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.1879800+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.1945467+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.2375638+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.2465388+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.2539300+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.2629434+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.2736586+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.2898965+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.2986748+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3096488+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3161547+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3178519+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3190904+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3203349+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3228916+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3313366+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3408777+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3624721+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3750063+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3822553+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.3900996+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.4015537+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.4109119+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.4217121+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.4279276+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:05.4321575+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.4348815+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.4407838+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.4417785+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.4432276+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.4454735+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.4561148+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.4736264+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.4821060+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.4964151+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5065761+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5153837+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5274785+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5441470+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5516950+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5598024+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5611912+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5668504+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5715327+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5798843+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5910397+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.5944716+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.6065478+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.6340516+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.6520372+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.6653575+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.6738818+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.6857534+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.7035451+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.7715878+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.7983145+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.8175781+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.8434373+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.8561595+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.8700372+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.8941135+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.9016137+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.9065836+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.9186089+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.9438755+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.9565676+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:05.9958036+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.0241979+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.0618529+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.0798503+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.1300832+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.1496945+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.1862938+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.2293860+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.2555629+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.2684580+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.4581953+02:00","Level":"Information","MessageTemplate":"Executing ViewResult, running view at path {Path}.","Properties":{"Path":"/Plugins/DefaultTheme/Views/Login/Login.cshtml","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.4771279+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":1042.9957,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.4817457+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1605.8390000000002,"StatusCode":200,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 1605.839ms 200 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000D","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1605.839ms 200 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:57:06.4942550+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/jquery/jquery.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000C","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  "}]}}
{"Timestamp":"2018-05-02T00:57:06.5251271+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/css/bootstrap.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000E","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  "}]}}
{"Timestamp":"2018-05-02T00:57:06.5278412+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:0000000C","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:57:06.5303028+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000E","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:57:06.5331765+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:0000000E","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:57:06.5368786+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/css/bootstrap.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:0000000E","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.5381412+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":13.0706,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 13.0706ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000E","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 13.0706ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:06.5312095+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:0000000C","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:57:06.4927956+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/css/site.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000C","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  "}]}}
{"Timestamp":"2018-05-02T00:57:06.5465360+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/jquery/jquery.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:0000000C","RequestPath":"/Default/lib/jquery/jquery.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.5777443+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":83.552,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 83.552ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000C","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 83.552ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:06.5759052+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:0000000C","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:57:06.5840072+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000D","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:57:06.5849786+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:0000000C","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:57:06.6142776+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/css/site.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:0000000C","RequestPath":"/Default/css/site.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.6164792+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":123.67370000000001,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 123.6737ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000C","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 123.6737ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:06.6128719+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:0000000D","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:57:06.6451240+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:0000000D","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:57:06.6466735+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:0000000D","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.6496755+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":65.64500000000001,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 65.645ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000D","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 65.645ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:06.6445093+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/icon.png","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000D","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  "}]}}
{"Timestamp":"2018-05-02T00:57:06.6795189+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:0000000D","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:57:06.6806413+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:0000000D","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:57:06.6827454+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/icon.png","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:0000000D","RequestPath":"/Default/icon.png","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:06.6858193+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":41.3226,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 41.3226ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000D","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 41.3226ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:24.4200153+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:57:24.4266433+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4276705+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4315807+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4329804+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4344840+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4355741+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4405826+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4477170+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4567186+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4665386+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4727501+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4803907+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4887020+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.4942458+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5022953+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5118989+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5181937+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5200794+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5210255+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5228266+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5304316+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5373278+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5438286+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5581322+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5690592+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5769644+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5838918+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.5960676+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6013855+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6076038+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6125104+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6166795+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6266659+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6372638+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6445701+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6581560+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6665680+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6694156+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6704519+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6742851+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6753443+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6774954+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6877236+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.6946043+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.7058783+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.7158915+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.7242767+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.7341608+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.7478880+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.7575974+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.7735927+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.7813884+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:24.7867013+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.7903393+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.7986475+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8002926+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8061525+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8097550+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8223762+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8336745+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8483230+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8582220+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8744133+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8847106+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.8965083+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9054497+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9117226+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9225255+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9259128+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9273813+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9295497+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9385485+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9449994+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9512469+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9627195+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9737118+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9859607+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:24.9974079+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0059622+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0093281+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0191060+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0270372+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0303700+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0383826+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0504019+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0615242+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0678728+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0751728+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0771224+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0807274+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0823297+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0840415+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0873522+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.0951068+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.1076200+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.1167661+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.1268903+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.1374662+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.1436915+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.1534476+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.1605042+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.1740303+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.1799029+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.2959133+02:00","Level":"Information","MessageTemplate":"Executing ViewResult, running view at path {Path}.","Properties":{"Path":"/Plugins/DefaultTheme/Views/Login/Login.cshtml","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.3229335+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":532.88970000000006,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.3302592+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":910.25020000000006,"StatusCode":200,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 910.2502ms 200 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000E","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 910.2502ms 200 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:57:25.3390999+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/jquery/jquery.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000F","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  "}]}}
{"Timestamp":"2018-05-02T00:57:25.3399608+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/css/site.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000E","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  "}]}}
{"Timestamp":"2018-05-02T00:57:25.3400473+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/css/bootstrap.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000F","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  "}]}}
{"Timestamp":"2018-05-02T00:57:25.3893921+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:0000000E","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:57:25.3938590+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:0000000E","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:57:25.3956980+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/css/site.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:0000000E","RequestPath":"/Default/css/site.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.3981194+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":58.1717,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 58.1717ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000E","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 58.1717ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:25.3932016+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:0000000F","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:57:25.4088821+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:0000000F","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:57:25.4102083+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/css/bootstrap.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:0000000F","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.3660265+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:0000000F","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:57:25.4170341+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:0000000F","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:57:25.4196566+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/jquery/jquery.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:0000000F","RequestPath":"/Default/lib/jquery/jquery.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.4128639+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":72.7724,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 72.7724ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:0000000F","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 72.7724ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:25.4228404+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":83.7531,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 83.7531ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:0000000F","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 83.7531ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:25.4498603+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000010","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:57:25.4577829+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000010","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:57:25.4590332+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000010","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:57:25.4152782+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/icon.png","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000F","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  "}]}}
{"Timestamp":"2018-05-02T00:57:25.4608663+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000010","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.4678143+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:0000000F","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:57:25.4694909+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":19.646,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 19.646ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000010","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 19.646ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:25.4710182+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:0000000F","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:57:25.5086589+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/icon.png","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:0000000F","RequestPath":"/Default/icon.png","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:25.5261771+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":111.0507,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 111.0507ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:0000000F","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 111.0507ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:41.1380943+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:57:41.1466822+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.1508445+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.1528621+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.1567562+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.1601269+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.1620437+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.1708426+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.1787873+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.1880136+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.1954028+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2063595+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2176720+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2228098+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2329475+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2436181+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2543133+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2638252+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2657483+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2674550+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2720583+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2800097+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2878015+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.2939605+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3026009+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3111042+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3212538+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3451427+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3584058+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3618507+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3719611+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3819799+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3884191+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.3938804+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4023327+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4159312+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4259744+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4362129+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4402828+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4413356+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4424497+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4438948+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4531306+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4604397+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4694115+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4791209+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4897517+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.4988748+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.5127277+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.5230305+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.5311767+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.5379820+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.5443018+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:41.5458126+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.5471783+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.5588212+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.5613950+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.5632225+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.5658422+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.5757807+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.5837503+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.5925191+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6012078+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6127337+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6238456+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6313178+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6424819+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6608116+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6672005+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6701745+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6711401+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6728348+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6785858+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6906514+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.6951188+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7063646+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7156603+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7273313+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7359491+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7436999+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7501165+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7577337+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7628971+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7668281+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7778783+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.7952468+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8024670+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8108892+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8240962+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8261640+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8269924+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8277889+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8286082+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8302699+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8421786+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8523400+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8612182+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8681464+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8774161+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8899472+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.8977543+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.9070426+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.9181873+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:41.9244657+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:42.1026024+02:00","Level":"Information","MessageTemplate":"Executing ViewResult, running view at path {Path}.","Properties":{"Path":"/Plugins/DefaultTheme/Views/Login/Login.cshtml","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:42.1566282+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","ElapsedMilliseconds":609.7691,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:42.1640080+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":1025.9018,"StatusCode":200,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 1025.9018ms 200 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000010","RequestPath":"/login"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1025.9018ms 200 text/html; charset=utf-8"}]}}
{"Timestamp":"2018-05-02T00:57:42.1717520+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/css/site.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000011","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/css/site.css  "}]}}
{"Timestamp":"2018-05-02T00:57:42.1725038+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSS1:00000001","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:57:42.2071954+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/css/bootstrap.css","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000011","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/css/bootstrap.css  "}]}}
{"Timestamp":"2018-05-02T00:57:42.2330151+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRE:00000011","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:57:42.2848258+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRE:00000011","RequestPath":"/Default/css/site.css"}}
{"Timestamp":"2018-05-02T00:57:42.3146514+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/css/site.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRE:00000011","RequestPath":"/Default/css/site.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:42.1725042+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/jquery/jquery.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000010","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/jquery/jquery.js  "}]}}
{"Timestamp":"2018-05-02T00:57:42.1725986+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/icon.png","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSS2:00000001","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/icon.png  "}]}}
{"Timestamp":"2018-05-02T00:57:42.2792911+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSS1:00000001","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:57:42.4572558+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSS1:00000001","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:57:42.3984891+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000010","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:57:42.3079310+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRG:00000011","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:57:42.5188934+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRG:00000011","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"}}
{"Timestamp":"2018-05-02T00:57:42.5259433+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/css/bootstrap.css","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRG:00000011","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:42.4296153+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSS2:00000001","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:57:42.3627456+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":191.0397,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 191.0397ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRE:00000011","RequestPath":"/Default/css/site.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 191.0397ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:42.4592046+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSS1:00000001","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:42.6206037+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":448.09990000000005,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 448.0999ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSS1:00000001","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 448.0999ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:42.5277060+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":320.7089,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 320.7089ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRG:00000011","RequestPath":"/Default/lib/bootstrap/css/bootstrap.css"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 320.7089ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:42.5477673+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSS2:00000001","RequestPath":"/Default/icon.png"}}
{"Timestamp":"2018-05-02T00:57:42.6543270+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/icon.png","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSS2:00000001","RequestPath":"/Default/icon.png","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:42.5181732+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000010","RequestPath":"/Default/lib/jquery/jquery.js"}}
{"Timestamp":"2018-05-02T00:57:42.7015116+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/jquery/jquery.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000010","RequestPath":"/Default/lib/jquery/jquery.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:42.7096689+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":537.1042,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 537.1042ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000010","RequestPath":"/Default/lib/jquery/jquery.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 537.1042ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:42.7294710+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/Default/lib/bootstrap/js/bootstrap.js","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000011","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/Default/lib/bootstrap/js/bootstrap.js  "}]}}
{"Timestamp":"2018-05-02T00:57:42.6887997+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":516.1742,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 516.1742ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSS2:00000001","RequestPath":"/Default/icon.png"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 516.1742ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:42.7447828+02:00","Level":"Verbose","MessageTemplate":"returnUrl is not valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000011","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:57:42.7784350+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl false","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000011","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"}}
{"Timestamp":"2018-05-02T00:57:42.8020336+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/Default/lib/bootstrap/js/bootstrap.js","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000011","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:42.8034851+02:00","Level":"Information","MessageTemplate":"{HostingRequestFinishedLog:l}","Properties":{"ElapsedMilliseconds":74.01400000000001,"StatusCode":404,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 74.014ms 404 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000011","RequestPath":"/Default/lib/bootstrap/js/bootstrap.js"},"Renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 74.014ms 404 "}]}}
{"Timestamp":"2018-05-02T00:57:58.1446986+02:00","Level":"Information","MessageTemplate":"{HostingRequestStartingLog:l}","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/login","QueryString":"?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"},"Renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc.hybrid%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A21402%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520api1%2520idbase%2520offline_access%26response_mode%3Dform_post%26nonce%3D636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4%26culture%3Den-US%26state%3DCfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY%26x-client-SKU%3DID_NET%26x-client-ver%3D2.1.4.0  "}]}}
{"Timestamp":"2018-05-02T00:57:58.1599965+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.1626577+02:00","Level":"Verbose","MessageTemplate":"IsValidReturnUrl true","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.1695385+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.1714193+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.1787999+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.1835829+02:00","Level":"Information","MessageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","Properties":{"version":"2.0.2-rtm-10011","contextType":"ConfigurationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"MigrationsAssembly=IdentityBase.EntityFramework.SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.1946447+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.2117587+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.2254674+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.2449139+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.2598101+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.2719623+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.2877047+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3076845+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3215291+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3333715+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3503777+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3524755+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3590414+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3657002+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3794377+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3892625+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.3944975+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.4087789+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.4308898+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.4428645+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.4604752+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.4756764+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.4790668+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.4952774+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5078115+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5111616+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5229001+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5325160+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5423135+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5529327+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5681545+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5728383+02:00","Level":"Debug","MessageTemplate":"Calling into custom validator: {type}","Properties":{"type":"IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator","SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5759182+02:00","Level":"Verbose","MessageTemplate":"Authorize request protocol validation successful","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5772124+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5788682+02:00","Level":"Verbose","MessageTemplate":"AuthorizationRequest being returned","Properties":{"SourceContext":"IdentityServer4.Services.DefaultIdentityServerInteractionService","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.5865134+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6007048+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6106639+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6274268+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6424945+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6524196+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6614464+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6719712+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6783823+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6886642+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6962755+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login"}}
{"Timestamp":"2018-05-02T00:57:58.6978684+02:00","Level":"Verbose","MessageTemplate":"No endpoint entry found for request path: {path}","Properties":{"path":"/login","SourceContext":"IdentityServer4.Hosting.EndpointRouter","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7029682+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} with arguments ({Arguments}) - ModelState is {ValidationState}","Properties":{"ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","Arguments":["/connect/authorize/callback?client_id=mvc.hybrid&redirect_uri=http%3A%2F%2Flocalhost%3A21402%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20api1%20idbase%20offline_access&response_mode=form_post&nonce=636608100209368236.MjJlMThhNGMtN2M3Zi00ZTU1LTlhZTctYjM0NzViYTY1NmNmNzQ1MzBlZTEtMzNlMC00NWI2LTljYTEtOWI5Y2I1YzNjNjg4&culture=en-US&state=CfDJ8LLsNEIXtepIqkK-qgTs0A98wbyEO9n4r4Jfp_ZXQsX4O6B_UkMR8yFPdNklVxOD_ytuKHc8EFMMBIjK6gZ7IMd1PH4jFzjL5oOpIvXonp1YPOoNoXTsUf3CGU6NT0fL9FuySCGRDhhz08iDmPine0q06SzCrE08RtN8zn24tZpqCJbBZc4Zi_0ZYWyd0wCdVtgWfAN9mjmpz9hFZEqVswMCeZicDYpnxqeWdaAVHyiWg_uHWoI11F21Z_q35J4bOayQBVVAvGtE4Zurzy5DSRTQHX42whr7w9hPeQJKYqCFb8vomEjQr1zPb0rjAKJ1yOCsqa7_2mwZa_ozkjCAZgY&x-client-SKU=ID_NET&x-client-ver=2.1.4.0"],"ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7081052+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7095551+02:00","Level":"Verbose","MessageTemplate":"returnUrl is valid","Properties":{"SourceContext":"IdentityServer4.Services.OidcReturnUrlParser","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7140276+02:00","Level":"Debug","MessageTemplate":"Start authorize request protocol validation","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7168444+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]\r\nFROM [Clients] AS [x]\r\nWHERE [x].[ClientId] = @__clientId_0\r\nORDER BY [x].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7260707+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]\r\nFROM [ClientGrantTypes] AS [x.AllowedGrantTypes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x0].[Id]\r\n    FROM [Clients] AS [x0]\r\n    WHERE [x0].[ClientId] = @__clientId_0\r\n    ORDER BY [x0].[Id]\r\n) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7361103+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]\r\nFROM [ClientRedirectUris] AS [x.RedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x1].[Id]\r\n    FROM [Clients] AS [x1]\r\n    WHERE [x1].[ClientId] = @__clientId_0\r\n    ORDER BY [x1].[Id]\r\n) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]\r\nORDER BY [t0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7423622+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]\r\nFROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x2].[Id]\r\n    FROM [Clients] AS [x2]\r\n    WHERE [x2].[ClientId] = @__clientId_0\r\n    ORDER BY [x2].[Id]\r\n) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]\r\nORDER BY [t1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7515936+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]\r\nFROM [ClientScopes] AS [x.AllowedScopes]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x3].[Id]\r\n    FROM [Clients] AS [x3]\r\n    WHERE [x3].[ClientId] = @__clientId_0\r\n    ORDER BY [x3].[Id]\r\n) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]\r\nORDER BY [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7600725+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]\r\nFROM [ClientSecrets] AS [x.ClientSecrets]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x4].[Id]\r\n    FROM [Clients] AS [x4]\r\n    WHERE [x4].[ClientId] = @__clientId_0\r\n    ORDER BY [x4].[Id]\r\n) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7741186+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]\r\nFROM [ClientClaims] AS [x.Claims]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x5].[Id]\r\n    FROM [Clients] AS [x5]\r\n    WHERE [x5].[ClientId] = @__clientId_0\r\n    ORDER BY [x5].[Id]\r\n) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]\r\nORDER BY [t4].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7857555+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]\r\nFROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x6].[Id]\r\n    FROM [Clients] AS [x6]\r\n    WHERE [x6].[ClientId] = @__clientId_0\r\n    ORDER BY [x6].[Id]\r\n) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]\r\nORDER BY [t5].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.7970061+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]\r\nFROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x7].[Id]\r\n    FROM [Clients] AS [x7]\r\n    WHERE [x7].[ClientId] = @__clientId_0\r\n    ORDER BY [x7].[Id]\r\n) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]\r\nORDER BY [t6].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8094631+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"@__clientId_0='?' (Size = 200)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]\r\nFROM [ClientProperties] AS [x.Properties]\r\nINNER JOIN (\r\n    SELECT TOP(1) [x8].[Id]\r\n    FROM [Clients] AS [x8]\r\n    WHERE [x8].[ClientId] = @__clientId_0\r\n    ORDER BY [x8].[Id]\r\n) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]\r\nORDER BY [t7].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8152113+02:00","Level":"Debug","MessageTemplate":"{clientId} found in database: {clientIdFound}","Properties":{"clientId":"mvc.hybrid","clientIdFound":true,"SourceContext":"IdentityBase.EntityFramework.Stores.ClientStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8184942+02:00","Level":"Debug","MessageTemplate":"Checking for PKCE parameters","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8220099+02:00","Level":"Debug","MessageTemplate":"No PKCE used.","Properties":{"SourceContext":"IdentityServer4.Validation.AuthorizeRequestValidator","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8245794+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8332798+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8399844+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8425302+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]\r\nFROM [ApiResources] AS [api]\r\nWHERE EXISTS (\r\n    SELECT 1\r\n    FROM [ApiScopes] AS [x]\r\n    WHERE [x].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api].[Id] = [x].[ApiResourceId]))\r\nORDER BY [api].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8470975+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]\r\nFROM [ApiSecrets] AS [api.Secrets]\r\nINNER JOIN (\r\n    SELECT [api0].[Id]\r\n    FROM [ApiResources] AS [api0]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x0]\r\n        WHERE [x0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api0].[Id] = [x0].[ApiResourceId]))\r\n) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8550916+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]\r\nFROM [ApiScopes] AS [api.Scopes]\r\nINNER JOIN (\r\n    SELECT [api1].[Id]\r\n    FROM [ApiResources] AS [api1]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x1]\r\n        WHERE [x1].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api1].[Id] = [x1].[ApiResourceId]))\r\n) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]\r\nORDER BY [t0].[Id], [api.Scopes].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8635807+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]\r\nFROM [ApiScopeClaims] AS [api.Scopes.UserClaims]\r\nINNER JOIN (\r\n    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]\r\n    FROM [ApiScopes] AS [api.Scopes0]\r\n    INNER JOIN (\r\n        SELECT [api2].[Id]\r\n        FROM [ApiResources] AS [api2]\r\n        WHERE EXISTS (\r\n            SELECT 1\r\n            FROM [ApiScopes] AS [x2]\r\n            WHERE [x2].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api2].[Id] = [x2].[ApiResourceId]))\r\n    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]\r\n) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]\r\nORDER BY [t2].[Id0], [t2].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8698452+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]\r\nFROM [ApiClaims] AS [api.UserClaims]\r\nINNER JOIN (\r\n    SELECT [api3].[Id]\r\n    FROM [ApiResources] AS [api3]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [ApiScopes] AS [x3]\r\n        WHERE [x3].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase') AND ([api3].[Id] = [x3].[ApiResourceId]))\r\n) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]\r\nORDER BY [t3].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8769879+02:00","Level":"Debug","MessageTemplate":"Found {scopes} API scopes in database","Properties":{"scopes":["api1","idbase"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8806537+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]\r\nFROM [IdentityResources] AS [identityResource]\r\nWHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\nORDER BY [identityResource].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.8919861+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]\r\nFROM [IdentityClaims] AS [identityResource.UserClaims]\r\nINNER JOIN (\r\n    SELECT [identityResource0].[Id]\r\n    FROM [IdentityResources] AS [identityResource0]\r\n    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'email', N'api1', N'idbase')\r\n) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
{"Timestamp":"2018-05-02T00:57:58.9044826+02:00","Level":"Debug","MessageTemplate":"Found {scopes} identity scopes in database","Properties":{"scopes":["openid","profile","email"],"SourceContext":"IdentityBase.EntityFramework.Stores.ResourceStore","ActionId":"3949473d-118a-40f6-a16f-3419bba1bed5","ActionName":"IdentityBase.Actions.Login.LoginController.Login (IdentityBase.Web)","RequestId":"0HLDFM6SCTSRF:00000012","RequestPath":"/login","RemoteIpAddress":"::1"}}
